; NOTE: Assertions have been autogenerated by utils/update_test_checks.py UTC_ARGS: --function-signature --check-globals --include-generated-funcs
; RUN: opt -S -attributor -openmpopt -openmp-opt-enable-merging -enable-new-pm=0 < %s | FileCheck %s --check-prefix=TUNIT
; RUN: opt -S -aa-pipeline= -passes='attributor,cgscc(openmpopt)' -openmp-opt-enable-merging  < %s | FileCheck %s --check-prefix=CGSCC
; #include <omp.h>
; void foo();
; void use(int);
; void usef(float);
; void merge(int a) {
; #pragma omp parallel
;     {
;         use(a);
;     }
; #pragma omp parallel
;     {
;         use(a);
;     }
; }
; void unmergable_proc_bind(int a) {
; #pragma omp parallel proc_bind(close)
;     {
;         use(a);
;     }
; #pragma omp parallel
;     {
;         use(a);
;     }
; }
; void unmergable_num_threads(int a) {
; #pragma omp parallel num_threads(a)
;     {
;         use(a);
;     }
; #pragma omp parallel
;     {
;         use(a);
;     }
; }
; void unmergable_seq_call(int a) {
; #pragma omp parallel
;     {
;         use(a);
;     }
;     foo();
; #pragma omp parallel
;     {
;         use(a);
;     }
; }
; void merge_seq(int a) {
; #pragma omp parallel
;     {
;         use(a);
;     }
;     a = a + 1;
; #pragma omp parallel
;     {
;         use(a);
;     }
;     use(a);
; }
; void merge_seq_float(float f, float *p) {
; #pragma omp parallel
;     {
;         use(f);
;     }
;     *p = f + 3.14f;
; #pragma omp parallel
;     {
;         use(f);
;     }
; }
; void merge_seq_firstprivate(int a) {
; #pragma omp parallel
;     {
;         use(a);
;     }
;     a = a + 1;
; #pragma omp parallel firstprivate(a)
;     {
;         use(a);
;     }
;     use(a);
; }
; void merge_seq_sink_lt(int a) {
; #pragma omp parallel
;     {
;         use(a);
;     }
;     {
;         int b = (int)&b;
;     }
; #pragma omp parallel
;     {
;         use(a);
;     }
; }
; void merge_seq_par_use(int a) {
; #pragma omp parallel
;     {
;         use(a);
;     }
;     int b = a + 1;
; #pragma omp parallel
;     {
;         use(a);
;         use(b);
;     }
; }
; void merge_cancellable_regions(int cancel1, int cancel2)
; {
; #pragma omp parallel
;     {
;         if(cancel1) {
; #pragma omp cancel parallel
;         }
;     }
; #pragma omp parallel
;     {
;         if (cancel2) {
; #pragma omp cancel parallel
;         }
;     }
; }
; void merge_cancellable_regions_seq(int cancel1, int cancel2)
; {
; #pragma omp parallel
;     {
;         if(cancel1) {
; #pragma omp cancel parallel
;         }
;     }
;     cancel2 = !cancel1;
; #pragma omp parallel
;     {
;         if (cancel2) {
; #pragma omp cancel parallel
;         }
;     }
; }
; void merge_3(int a) {
; #pragma omp parallel
;     {
;         use(a);
;     }
; #pragma omp parallel
;     {
;         use(a);
;     }
; #pragma omp parallel
;     {
;         use(a);
;     }
; }
; void merge_3_seq(int a, int b) {
; #pragma omp parallel
;     {
;         use(a);
;     }
;     b = a + 1;
; #pragma omp parallel
;     {
;         use(a);
;     }
;     b = b + a;
; #pragma omp parallel
;     {
;         use(a);
;     }
;     use(b);
; }
; void unmergable_3_seq_call(int a) {
; #pragma omp parallel
;     {
;         use(a);
;     }
;     foo();
; #pragma omp parallel
;     {
;         use(a);
;     }
;     foo();
; #pragma omp parallel
;     {
;         use(a);
;     }
; }
; void unmergable_3_proc_bind(int a) {
; #pragma omp parallel
;     {
;         use(a);
;     }
; #pragma omp parallel proc_bind(close)
;     {
;         use(a);
;     }
; #pragma omp parallel
;     {
;         use(a);
;     }
; }
; void unmergable_3_num_threads(int a) {
; #pragma omp parallel
;     {
;         use(a);
;     }
; #pragma omp parallel num_threads(a)
;     {
;         use(a);
;     }
; #pragma omp parallel
;     {
;         use(a);
;     }
; }
; void merge_2_unmergable_1(int a) {
; #pragma omp parallel
;     {
;         use(a);
;     }
; #pragma omp parallel
;     {
;         use(a);
;     }
;     foo();
; #pragma omp parallel
;     {
;         use(a);
;     }
; }
target datalayout = "e-m:e-p270:32:32-p271:32:32-p272:64:64-i64:64-f80:128-n8:16:32:64-S128"

%struct.ident_t = type { i32, i32, i32, i32, i8* }

@0 = private unnamed_addr constant [23 x i8] c";unknown;unknown;0;0;;\00", align 1
@1 = private unnamed_addr constant %struct.ident_t { i32 0, i32 2, i32 0, i32 0, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @0, i32 0, i32 0) }, align 8

define dso_local void @merge(i32 %a) local_unnamed_addr  {
entry:
  %a.addr = alloca i32, align 4
  store i32 %a, i32* %a.addr, align 4
  call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* nonnull @1, i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @.omp_outlined. to void (i32*, i32*, ...)*), i32* nonnull %a.addr)
  call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* nonnull @1, i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @.omp_outlined..1 to void (i32*, i32*, ...)*), i32* nonnull %a.addr)
  ret void
}

define internal void @.omp_outlined.(i32* noalias nocapture readnone %.global_tid., i32* noalias nocapture readnone %.bound_tid., i32* nocapture nonnull readonly align 4 dereferenceable(4) %a)  {
entry:
  %0 = load i32, i32* %a, align 4
  call void @use(i32 %0)
  ret void
}

declare dso_local void @use(i32) local_unnamed_addr

declare !callback !1 void @__kmpc_fork_call(%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) local_unnamed_addr

define internal void @.omp_outlined..1(i32* noalias nocapture readnone %.global_tid., i32* noalias nocapture readnone %.bound_tid., i32* nocapture nonnull readonly align 4 dereferenceable(4) %a)  {
entry:
  %0 = load i32, i32* %a, align 4
  call void @use(i32 %0)
  ret void
}

define dso_local void @unmergable_proc_bind(i32 %a) local_unnamed_addr  {
entry:
  %a.addr = alloca i32, align 4
  %0 = call i32 @__kmpc_global_thread_num(%struct.ident_t* nonnull @1)
  store i32 %a, i32* %a.addr, align 4
  call void @__kmpc_push_proc_bind(%struct.ident_t* nonnull @1, i32 %0, i32 3)
  call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* nonnull @1, i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @.omp_outlined..2 to void (i32*, i32*, ...)*), i32* nonnull %a.addr)
  call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* nonnull @1, i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @.omp_outlined..3 to void (i32*, i32*, ...)*), i32* nonnull %a.addr)
  ret void
}

define internal void @.omp_outlined..2(i32* noalias nocapture readnone %.global_tid., i32* noalias nocapture readnone %.bound_tid., i32* nocapture nonnull readonly align 4 dereferenceable(4) %a)  {
entry:
  %0 = load i32, i32* %a, align 4
  call void @use(i32 %0)
  ret void
}

declare i32 @__kmpc_global_thread_num(%struct.ident_t*) local_unnamed_addr

declare void @__kmpc_push_proc_bind(%struct.ident_t*, i32, i32) local_unnamed_addr

define internal void @.omp_outlined..3(i32* noalias nocapture readnone %.global_tid., i32* noalias nocapture readnone %.bound_tid., i32* nocapture nonnull readonly align 4 dereferenceable(4) %a)  {
entry:
  %0 = load i32, i32* %a, align 4
  call void @use(i32 %0)
  ret void
}

define dso_local void @unmergable_num_threads(i32 %a) local_unnamed_addr  {
entry:
  %a.addr = alloca i32, align 4
  %0 = call i32 @__kmpc_global_thread_num(%struct.ident_t* nonnull @1)
  store i32 %a, i32* %a.addr, align 4
  call void @__kmpc_push_num_threads(%struct.ident_t* nonnull @1, i32 %0, i32 %a)
  call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* nonnull @1, i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @.omp_outlined..4 to void (i32*, i32*, ...)*), i32* nonnull %a.addr)
  call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* nonnull @1, i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @.omp_outlined..5 to void (i32*, i32*, ...)*), i32* nonnull %a.addr)
  ret void
}

define internal void @.omp_outlined..4(i32* noalias nocapture readnone %.global_tid., i32* noalias nocapture readnone %.bound_tid., i32* nocapture nonnull readonly align 4 dereferenceable(4) %a)  {
entry:
  %0 = load i32, i32* %a, align 4
  call void @use(i32 %0)
  ret void
}

declare void @__kmpc_push_num_threads(%struct.ident_t*, i32, i32) local_unnamed_addr

define internal void @.omp_outlined..5(i32* noalias nocapture readnone %.global_tid., i32* noalias nocapture readnone %.bound_tid., i32* nocapture nonnull readonly align 4 dereferenceable(4) %a)  {
entry:
  %0 = load i32, i32* %a, align 4
  call void @use(i32 %0)
  ret void
}

define dso_local void @unmergable_seq_call(i32 %a) local_unnamed_addr  {
entry:
  %a.addr = alloca i32, align 4
  store i32 %a, i32* %a.addr, align 4
  call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* nonnull @1, i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @.omp_outlined..6 to void (i32*, i32*, ...)*), i32* nonnull %a.addr)
  call void (...) @foo()
  call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* nonnull @1, i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @.omp_outlined..7 to void (i32*, i32*, ...)*), i32* nonnull %a.addr)
  ret void
}

define internal void @.omp_outlined..6(i32* noalias nocapture readnone %.global_tid., i32* noalias nocapture readnone %.bound_tid., i32* nocapture nonnull readonly align 4 dereferenceable(4) %a)  {
entry:
  %0 = load i32, i32* %a, align 4
  call void @use(i32 %0)
  ret void
}

declare dso_local void @foo(...) local_unnamed_addr

define internal void @.omp_outlined..7(i32* noalias nocapture readnone %.global_tid., i32* noalias nocapture readnone %.bound_tid., i32* nocapture nonnull readonly align 4 dereferenceable(4) %a)  {
entry:
  %0 = load i32, i32* %a, align 4
  call void @use(i32 %0)
  ret void
}

define dso_local void @merge_seq(i32 %a) local_unnamed_addr  {
entry:
  %a.addr = alloca i32, align 4
  store i32 %a, i32* %a.addr, align 4
  call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* nonnull @1, i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @.omp_outlined..8 to void (i32*, i32*, ...)*), i32* nonnull %a.addr)
  %0 = load i32, i32* %a.addr, align 4
  %add = add nsw i32 %0, 1
  store i32 %add, i32* %a.addr, align 4
  call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* nonnull @1, i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @.omp_outlined..9 to void (i32*, i32*, ...)*), i32* nonnull %a.addr)
  %1 = load i32, i32* %a.addr, align 4
  call void @use(i32 %1)
  ret void
}

define internal void @.omp_outlined..8(i32* noalias nocapture readnone %.global_tid., i32* noalias nocapture readnone %.bound_tid., i32* nocapture nonnull readonly align 4 dereferenceable(4) %a)  {
entry:
  %0 = load i32, i32* %a, align 4
  call void @use(i32 %0)
  ret void
}

define internal void @.omp_outlined..9(i32* noalias nocapture readnone %.global_tid., i32* noalias nocapture readnone %.bound_tid., i32* nocapture nonnull readonly align 4 dereferenceable(4) %a)  {
entry:
  %0 = load i32, i32* %a, align 4
  call void @use(i32 %0)
  ret void
}

define dso_local void @merge_seq_float(float %f, float* nocapture %p) local_unnamed_addr  {
entry:
  %f.addr = alloca float, align 4
  store float %f, float* %f.addr, align 4
  call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* nonnull @1, i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, float*)* @.omp_outlined..10 to void (i32*, i32*, ...)*), float* nonnull %f.addr)
  %0 = load float, float* %f.addr, align 4
  %add = fadd float %0, 0x40091EB860000000
  store float %add, float* %p, align 4
  call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* nonnull @1, i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, float*)* @.omp_outlined..11 to void (i32*, i32*, ...)*), float* nonnull %f.addr)
  ret void
}

define internal void @.omp_outlined..10(i32* noalias nocapture readnone %.global_tid., i32* noalias nocapture readnone %.bound_tid., float* nocapture nonnull readonly align 4 dereferenceable(4) %f)  {
entry:
  %0 = load float, float* %f, align 4
  %conv = fptosi float %0 to i32
  call void @use(i32 %conv)
  ret void
}

define internal void @.omp_outlined..11(i32* noalias nocapture readnone %.global_tid., i32* noalias nocapture readnone %.bound_tid., float* nocapture nonnull readonly align 4 dereferenceable(4) %f)  {
entry:
  %0 = load float, float* %f, align 4
  %conv = fptosi float %0 to i32
  call void @use(i32 %conv)
  ret void
}

define dso_local void @merge_seq_firstprivate(i32 %a) local_unnamed_addr  {
entry:
  %a.addr = alloca i32, align 4
  store i32 %a, i32* %a.addr, align 4
  call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* nonnull @1, i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @.omp_outlined..12 to void (i32*, i32*, ...)*), i32* nonnull %a.addr)
  %0 = load i32, i32* %a.addr, align 4
  %add = add nsw i32 %0, 1
  store i32 %add, i32* %a.addr, align 4
  %a.casted.sroa.0.0.insert.ext = zext i32 %add to i64
  call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* nonnull @1, i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i64)* @.omp_outlined..13 to void (i32*, i32*, ...)*), i64 %a.casted.sroa.0.0.insert.ext)
  %1 = load i32, i32* %a.addr, align 4
  call void @use(i32 %1)
  ret void
}

define internal void @.omp_outlined..12(i32* noalias nocapture readnone %.global_tid., i32* noalias nocapture readnone %.bound_tid., i32* nocapture nonnull readonly align 4 dereferenceable(4) %a)  {
entry:
  %0 = load i32, i32* %a, align 4
  call void @use(i32 %0)
  ret void
}

define internal void @.omp_outlined..13(i32* noalias nocapture readnone %.global_tid., i32* noalias nocapture readnone %.bound_tid., i64 %a)  {
entry:
  %a.addr.sroa.0.0.extract.trunc = trunc i64 %a to i32
  call void @use(i32 %a.addr.sroa.0.0.extract.trunc)
  ret void
}

define dso_local void @merge_seq_sink_lt(i32 %a) local_unnamed_addr  {
entry:
  %a.addr = alloca i32, align 4
  %b = alloca i32, align 4
  store i32 %a, i32* %a.addr, align 4
  call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* nonnull @1, i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @.omp_outlined..14 to void (i32*, i32*, ...)*), i32* nonnull %a.addr)
  %0 = bitcast i32* %b to i8*
  call void @llvm.lifetime.start.p0i8(i64 4, i8* nonnull %0)
  %1 = ptrtoint i32* %b to i64
  %2 = trunc i64 %1 to i32
  store i32 %2, i32* %b, align 4
  call void @llvm.lifetime.end.p0i8(i64 4, i8* nonnull %0)
  call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* nonnull @1, i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @.omp_outlined..15 to void (i32*, i32*, ...)*), i32* nonnull %a.addr)
  ret void
}

define internal void @.omp_outlined..14(i32* noalias nocapture readnone %.global_tid., i32* noalias nocapture readnone %.bound_tid., i32* nocapture nonnull readonly align 4 dereferenceable(4) %a)  {
entry:
  %0 = load i32, i32* %a, align 4
  call void @use(i32 %0)
  ret void
}

declare void @llvm.lifetime.start.p0i8(i64 immarg, i8* nocapture)

declare void @llvm.lifetime.end.p0i8(i64 immarg, i8* nocapture)

define internal void @.omp_outlined..15(i32* noalias nocapture readnone %.global_tid., i32* noalias nocapture readnone %.bound_tid., i32* nocapture nonnull readonly align 4 dereferenceable(4) %a)  {
entry:
  %0 = load i32, i32* %a, align 4
  call void @use(i32 %0)
  ret void
}

define dso_local void @merge_seq_par_use(i32 %a) local_unnamed_addr  {
entry:
  %a.addr = alloca i32, align 4
  %b = alloca i32, align 4
  store i32 %a, i32* %a.addr, align 4
  call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* nonnull @1, i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @.omp_outlined..16 to void (i32*, i32*, ...)*), i32* nonnull %a.addr)
  %0 = bitcast i32* %b to i8*
  call void @llvm.lifetime.start.p0i8(i64 4, i8* nonnull %0)
  %1 = load i32, i32* %a.addr, align 4
  %add = add nsw i32 %1, 1
  store i32 %add, i32* %b, align 4
  call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* nonnull @1, i32 2, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*, i32*)* @.omp_outlined..17 to void (i32*, i32*, ...)*), i32* nonnull %a.addr, i32* nonnull %b)
  call void @llvm.lifetime.end.p0i8(i64 4, i8* nonnull %0)
  ret void
}

define internal void @.omp_outlined..16(i32* noalias nocapture readnone %.global_tid., i32* noalias nocapture readnone %.bound_tid., i32* nocapture nonnull readonly align 4 dereferenceable(4) %a)  {
entry:
  %0 = load i32, i32* %a, align 4
  call void @use(i32 %0)
  ret void
}

define internal void @.omp_outlined..17(i32* noalias nocapture readnone %.global_tid., i32* noalias nocapture readnone %.bound_tid., i32* nocapture nonnull readonly align 4 dereferenceable(4) %a, i32* nocapture nonnull readonly align 4 dereferenceable(4) %b)  {
entry:
  %0 = load i32, i32* %a, align 4
  call void @use(i32 %0)
  %1 = load i32, i32* %b, align 4
  call void @use(i32 %1)
  ret void
}

define dso_local void @merge_cancellable_regions(i32 %cancel1, i32 %cancel2) local_unnamed_addr  {
entry:
  %cancel1.addr = alloca i32, align 4
  %cancel2.addr = alloca i32, align 4
  store i32 %cancel1, i32* %cancel1.addr, align 4
  store i32 %cancel2, i32* %cancel2.addr, align 4
  call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* nonnull @1, i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @.omp_outlined..18 to void (i32*, i32*, ...)*), i32* nonnull %cancel1.addr)
  call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* nonnull @1, i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @.omp_outlined..19 to void (i32*, i32*, ...)*), i32* nonnull %cancel2.addr)
  ret void
}

define internal void @.omp_outlined..18(i32* noalias nocapture readonly %.global_tid., i32* noalias nocapture readnone %.bound_tid., i32* nocapture nonnull readonly align 4 dereferenceable(4) %cancel1)  {
entry:
  %0 = load i32, i32* %cancel1, align 4
  %tobool.not = icmp eq i32 %0, 0
  br i1 %tobool.not, label %if.end, label %if.then

if.then:                                          ; preds = %entry
  %1 = load i32, i32* %.global_tid., align 4
  %2 = call i32 @__kmpc_cancel(%struct.ident_t* nonnull @1, i32 %1, i32 1)
  ret void

if.end:                                           ; preds = %entry
  ret void
}

declare i32 @__kmpc_cancel(%struct.ident_t*, i32, i32) local_unnamed_addr

define internal void @.omp_outlined..19(i32* noalias nocapture readonly %.global_tid., i32* noalias nocapture readnone %.bound_tid., i32* nocapture nonnull readonly align 4 dereferenceable(4) %cancel2)  {
entry:
  %0 = load i32, i32* %cancel2, align 4
  %tobool.not = icmp eq i32 %0, 0
  br i1 %tobool.not, label %if.end, label %if.then

if.then:                                          ; preds = %entry
  %1 = load i32, i32* %.global_tid., align 4
  %2 = call i32 @__kmpc_cancel(%struct.ident_t* nonnull @1, i32 %1, i32 1)
  ret void

if.end:                                           ; preds = %entry
  ret void
}

define dso_local void @merge_cancellable_regions_seq(i32 %cancel1, i32 %cancel2) local_unnamed_addr  {
entry:
  %cancel1.addr = alloca i32, align 4
  %cancel2.addr = alloca i32, align 4
  store i32 %cancel1, i32* %cancel1.addr, align 4
  store i32 %cancel2, i32* %cancel2.addr, align 4
  call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* nonnull @1, i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @.omp_outlined..20 to void (i32*, i32*, ...)*), i32* nonnull %cancel1.addr)
  %0 = load i32, i32* %cancel1.addr, align 4
  %tobool.not = icmp eq i32 %0, 0
  %lnot.ext = zext i1 %tobool.not to i32
  store i32 %lnot.ext, i32* %cancel2.addr, align 4
  call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* nonnull @1, i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @.omp_outlined..21 to void (i32*, i32*, ...)*), i32* nonnull %cancel2.addr)
  ret void
}

define internal void @.omp_outlined..20(i32* noalias nocapture readonly %.global_tid., i32* noalias nocapture readnone %.bound_tid., i32* nocapture nonnull readonly align 4 dereferenceable(4) %cancel1)  {
entry:
  %0 = load i32, i32* %cancel1, align 4
  %tobool.not = icmp eq i32 %0, 0
  br i1 %tobool.not, label %if.end, label %if.then

if.then:                                          ; preds = %entry
  %1 = load i32, i32* %.global_tid., align 4
  %2 = call i32 @__kmpc_cancel(%struct.ident_t* nonnull @1, i32 %1, i32 1)
  ret void

if.end:                                           ; preds = %entry
  ret void
}

define internal void @.omp_outlined..21(i32* noalias nocapture readonly %.global_tid., i32* noalias nocapture readnone %.bound_tid., i32* nocapture nonnull readonly align 4 dereferenceable(4) %cancel2)  {
entry:
  %0 = load i32, i32* %cancel2, align 4
  %tobool.not = icmp eq i32 %0, 0
  br i1 %tobool.not, label %if.end, label %if.then

if.then:                                          ; preds = %entry
  %1 = load i32, i32* %.global_tid., align 4
  %2 = call i32 @__kmpc_cancel(%struct.ident_t* nonnull @1, i32 %1, i32 1)
  ret void

if.end:                                           ; preds = %entry
  ret void
}

define dso_local void @merge_3(i32 %a) local_unnamed_addr  {
entry:
  %a.addr = alloca i32, align 4
  store i32 %a, i32* %a.addr, align 4
  call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* nonnull @1, i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @.omp_outlined..22 to void (i32*, i32*, ...)*), i32* nonnull %a.addr)
  call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* nonnull @1, i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @.omp_outlined..23 to void (i32*, i32*, ...)*), i32* nonnull %a.addr)
  call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* nonnull @1, i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @.omp_outlined..24 to void (i32*, i32*, ...)*), i32* nonnull %a.addr)
  ret void
}

define internal void @.omp_outlined..22(i32* noalias nocapture readnone %.global_tid., i32* noalias nocapture readnone %.bound_tid., i32* nocapture nonnull readonly align 4 dereferenceable(4) %a)  {
entry:
  %0 = load i32, i32* %a, align 4
  call void @use(i32 %0)
  ret void
}

define internal void @.omp_outlined..23(i32* noalias nocapture readnone %.global_tid., i32* noalias nocapture readnone %.bound_tid., i32* nocapture nonnull readonly align 4 dereferenceable(4) %a)  {
entry:
  %0 = load i32, i32* %a, align 4
  call void @use(i32 %0)
  ret void
}

define internal void @.omp_outlined..24(i32* noalias nocapture readnone %.global_tid., i32* noalias nocapture readnone %.bound_tid., i32* nocapture nonnull readonly align 4 dereferenceable(4) %a)  {
entry:
  %0 = load i32, i32* %a, align 4
  call void @use(i32 %0)
  ret void
}

define dso_local void @merge_3_seq(i32 %a, i32 %b) local_unnamed_addr  {
entry:
  %a.addr = alloca i32, align 4
  store i32 %a, i32* %a.addr, align 4
  call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* nonnull @1, i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @.omp_outlined..25 to void (i32*, i32*, ...)*), i32* nonnull %a.addr)
  %0 = load i32, i32* %a.addr, align 4
  %add = add nsw i32 %0, 1
  call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* nonnull @1, i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @.omp_outlined..26 to void (i32*, i32*, ...)*), i32* nonnull %a.addr)
  %1 = load i32, i32* %a.addr, align 4
  %add1 = add nsw i32 %add, %1
  call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* nonnull @1, i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @.omp_outlined..27 to void (i32*, i32*, ...)*), i32* nonnull %a.addr)
  call void @use(i32 %add1)
  ret void
}

define internal void @.omp_outlined..25(i32* noalias nocapture readnone %.global_tid., i32* noalias nocapture readnone %.bound_tid., i32* nocapture nonnull readonly align 4 dereferenceable(4) %a)  {
entry:
  %0 = load i32, i32* %a, align 4
  call void @use(i32 %0)
  ret void
}

define internal void @.omp_outlined..26(i32* noalias nocapture readnone %.global_tid., i32* noalias nocapture readnone %.bound_tid., i32* nocapture nonnull readonly align 4 dereferenceable(4) %a)  {
entry:
  %0 = load i32, i32* %a, align 4
  call void @use(i32 %0)
  ret void
}

define internal void @.omp_outlined..27(i32* noalias nocapture readnone %.global_tid., i32* noalias nocapture readnone %.bound_tid., i32* nocapture nonnull readonly align 4 dereferenceable(4) %a)  {
entry:
  %0 = load i32, i32* %a, align 4
  call void @use(i32 %0)
  ret void
}

define dso_local void @unmergable_3_seq_call(i32 %a) local_unnamed_addr  {
entry:
  %a.addr = alloca i32, align 4
  store i32 %a, i32* %a.addr, align 4
  call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* nonnull @1, i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @.omp_outlined..28 to void (i32*, i32*, ...)*), i32* nonnull %a.addr)
  call void (...) @foo()
  call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* nonnull @1, i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @.omp_outlined..29 to void (i32*, i32*, ...)*), i32* nonnull %a.addr)
  call void (...) @foo()
  call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* nonnull @1, i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @.omp_outlined..30 to void (i32*, i32*, ...)*), i32* nonnull %a.addr)
  ret void
}

define internal void @.omp_outlined..28(i32* noalias nocapture readnone %.global_tid., i32* noalias nocapture readnone %.bound_tid., i32* nocapture nonnull readonly align 4 dereferenceable(4) %a)  {
entry:
  %0 = load i32, i32* %a, align 4
  call void @use(i32 %0)
  ret void
}

define internal void @.omp_outlined..29(i32* noalias nocapture readnone %.global_tid., i32* noalias nocapture readnone %.bound_tid., i32* nocapture nonnull readonly align 4 dereferenceable(4) %a)  {
entry:
  %0 = load i32, i32* %a, align 4
  call void @use(i32 %0)
  ret void
}

define internal void @.omp_outlined..30(i32* noalias nocapture readnone %.global_tid., i32* noalias nocapture readnone %.bound_tid., i32* nocapture nonnull readonly align 4 dereferenceable(4) %a)  {
entry:
  %0 = load i32, i32* %a, align 4
  call void @use(i32 %0)
  ret void
}

define dso_local void @unmergable_3_proc_bind(i32 %a) local_unnamed_addr  {
entry:
  %a.addr = alloca i32, align 4
  %0 = call i32 @__kmpc_global_thread_num(%struct.ident_t* nonnull @1)
  store i32 %a, i32* %a.addr, align 4
  call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* nonnull @1, i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @.omp_outlined..31 to void (i32*, i32*, ...)*), i32* nonnull %a.addr)
  call void @__kmpc_push_proc_bind(%struct.ident_t* nonnull @1, i32 %0, i32 3)
  call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* nonnull @1, i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @.omp_outlined..32 to void (i32*, i32*, ...)*), i32* nonnull %a.addr)
  call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* nonnull @1, i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @.omp_outlined..33 to void (i32*, i32*, ...)*), i32* nonnull %a.addr)
  ret void
}

define internal void @.omp_outlined..31(i32* noalias nocapture readnone %.global_tid., i32* noalias nocapture readnone %.bound_tid., i32* nocapture nonnull readonly align 4 dereferenceable(4) %a)  {
entry:
  %0 = load i32, i32* %a, align 4
  call void @use(i32 %0)
  ret void
}

define internal void @.omp_outlined..32(i32* noalias nocapture readnone %.global_tid., i32* noalias nocapture readnone %.bound_tid., i32* nocapture nonnull readonly align 4 dereferenceable(4) %a)  {
entry:
  %0 = load i32, i32* %a, align 4
  call void @use(i32 %0)
  ret void
}

define internal void @.omp_outlined..33(i32* noalias nocapture readnone %.global_tid., i32* noalias nocapture readnone %.bound_tid., i32* nocapture nonnull readonly align 4 dereferenceable(4) %a)  {
entry:
  %0 = load i32, i32* %a, align 4
  call void @use(i32 %0)
  ret void
}

define dso_local void @unmergable_3_num_threads(i32 %a) local_unnamed_addr  {
entry:
  %a.addr = alloca i32, align 4
  %0 = call i32 @__kmpc_global_thread_num(%struct.ident_t* nonnull @1)
  store i32 %a, i32* %a.addr, align 4
  call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* nonnull @1, i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @.omp_outlined..34 to void (i32*, i32*, ...)*), i32* nonnull %a.addr)
  %1 = load i32, i32* %a.addr, align 4
  call void @__kmpc_push_num_threads(%struct.ident_t* nonnull @1, i32 %0, i32 %1)
  call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* nonnull @1, i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @.omp_outlined..35 to void (i32*, i32*, ...)*), i32* nonnull %a.addr)
  call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* nonnull @1, i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @.omp_outlined..36 to void (i32*, i32*, ...)*), i32* nonnull %a.addr)
  ret void
}

define internal void @.omp_outlined..34(i32* noalias nocapture readnone %.global_tid., i32* noalias nocapture readnone %.bound_tid., i32* nocapture nonnull readonly align 4 dereferenceable(4) %a)  {
entry:
  %0 = load i32, i32* %a, align 4
  call void @use(i32 %0)
  ret void
}

define internal void @.omp_outlined..35(i32* noalias nocapture readnone %.global_tid., i32* noalias nocapture readnone %.bound_tid., i32* nocapture nonnull readonly align 4 dereferenceable(4) %a)  {
entry:
  %0 = load i32, i32* %a, align 4
  call void @use(i32 %0)
  ret void
}

define internal void @.omp_outlined..36(i32* noalias nocapture readnone %.global_tid., i32* noalias nocapture readnone %.bound_tid., i32* nocapture nonnull readonly align 4 dereferenceable(4) %a)  {
entry:
  %0 = load i32, i32* %a, align 4
  call void @use(i32 %0)
  ret void
}

define dso_local void @merge_2_unmergable_1(i32 %a) local_unnamed_addr  {
entry:
  %a.addr = alloca i32, align 4
  store i32 %a, i32* %a.addr, align 4
  call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* nonnull @1, i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @.omp_outlined..37 to void (i32*, i32*, ...)*), i32* nonnull %a.addr)
  call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* nonnull @1, i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @.omp_outlined..38 to void (i32*, i32*, ...)*), i32* nonnull %a.addr)
  call void (...) @foo()
  call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* nonnull @1, i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @.omp_outlined..39 to void (i32*, i32*, ...)*), i32* nonnull %a.addr)
  ret void
}

define internal void @.omp_outlined..37(i32* noalias nocapture readnone %.global_tid., i32* noalias nocapture readnone %.bound_tid., i32* nocapture nonnull readonly align 4 dereferenceable(4) %a)  {
entry:
  %0 = load i32, i32* %a, align 4
  call void @use(i32 %0)
  ret void
}

define internal void @.omp_outlined..38(i32* noalias nocapture readnone %.global_tid., i32* noalias nocapture readnone %.bound_tid., i32* nocapture nonnull readonly align 4 dereferenceable(4) %a)  {
entry:
  %0 = load i32, i32* %a, align 4
  call void @use(i32 %0)
  ret void
}

define internal void @.omp_outlined..39(i32* noalias nocapture readnone %.global_tid., i32* noalias nocapture readnone %.bound_tid., i32* nocapture nonnull readonly align 4 dereferenceable(4) %a)  {
entry:
  %0 = load i32, i32* %a, align 4
  call void @use(i32 %0)
  ret void
}


!llvm.module.flags = !{!0}

!0 = !{i32 1, !"wchar_size", i32 4}
!1 = !{!2}
!2 = !{i64 2, i64 -1, i64 -1, i1 true}
;.
; TUNIT: @[[GLOB0:[0-9]+]] = private unnamed_addr constant [23 x i8] c"
; TUNIT: @[[GLOB1:[0-9]+]] = private unnamed_addr constant [[STRUCT_IDENT_T:%.*]] { i32 0, i32 2, i32 0, i32 0, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @[[GLOB0]], i32 0, i32 0) }, align 8
; TUNIT: @[[GLOB2:[0-9]+]] = private unnamed_addr constant [[STRUCT_IDENT_T:%.*]] { i32 0, i32 66, i32 0, i32 0, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @[[GLOB0]], i32 0, i32 0) }, align 8
;.
; CGSCC: @[[GLOB0:[0-9]+]] = private unnamed_addr constant [23 x i8] c"
; CGSCC: @[[GLOB1:[0-9]+]] = private unnamed_addr constant [[STRUCT_IDENT_T:%.*]] { i32 0, i32 2, i32 0, i32 0, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @[[GLOB0]], i32 0, i32 0) }, align 8
; CGSCC: @[[GLOB2:[0-9]+]] = private unnamed_addr constant [[STRUCT_IDENT_T:%.*]] { i32 0, i32 66, i32 0, i32 0, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @[[GLOB0]], i32 0, i32 0) }, align 8
;.
; TUNIT-LABEL: define {{[^@]+}}@merge
; TUNIT-SAME: (i32 [[A:%.*]]) local_unnamed_addr {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[A_ADDR:%.*]] = alloca i32, align 4
; TUNIT-NEXT:    store i32 [[A]], i32* [[A_ADDR]], align 4
; TUNIT-NEXT:    [[OMP_GLOBAL_THREAD_NUM:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; TUNIT-NEXT:    br label [[OMP_PARALLEL:%.*]]
; TUNIT:       omp_parallel:
; TUNIT-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* @[[GLOB1]], i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @merge..omp_par to void (i32*, i32*, ...)*), i32* [[A_ADDR]])
; TUNIT-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT:%.*]]
; TUNIT:       omp.par.outlined.exit:
; TUNIT-NEXT:    br label [[OMP_PAR_EXIT_SPLIT:%.*]]
; TUNIT:       omp.par.exit.split:
; TUNIT-NEXT:    br label [[ENTRY_SPLIT_SPLIT:%.*]]
; TUNIT:       entry.split.split:
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@merge..omp_par
; TUNIT-SAME: (i32* noalias [[TID_ADDR:%.*]], i32* noalias [[ZERO_ADDR:%.*]], i32* [[A_ADDR:%.*]]) #[[ATTR0:[0-9]+]] {
; TUNIT-NEXT:  omp.par.entry:
; TUNIT-NEXT:    [[TID_ADDR_LOCAL:%.*]] = alloca i32, align 4
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[TID_ADDR]], align 4
; TUNIT-NEXT:    store i32 [[TMP0]], i32* [[TID_ADDR_LOCAL]], align 4
; TUNIT-NEXT:    [[TID:%.*]] = load i32, i32* [[TID_ADDR_LOCAL]], align 4
; TUNIT-NEXT:    br label [[OMP_PAR_REGION:%.*]]
; TUNIT:       omp.par.outlined.exit.exitStub:
; TUNIT-NEXT:    ret void
; TUNIT:       omp.par.region:
; TUNIT-NEXT:    br label [[OMP_PAR_MERGED:%.*]]
; TUNIT:       omp.par.merged:
; TUNIT-NEXT:    call void @.omp_outlined.(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; TUNIT-NEXT:    [[OMP_GLOBAL_THREAD_NUM:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; TUNIT-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM]])
; TUNIT-NEXT:    call void @.omp_outlined..1(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; TUNIT-NEXT:    br label [[ENTRY_SPLIT:%.*]]
; TUNIT:       entry.split:
; TUNIT-NEXT:    br label [[OMP_PAR_REGION_SPLIT:%.*]]
; TUNIT:       omp.par.region.split:
; TUNIT-NEXT:    br label [[OMP_PAR_PRE_FINALIZE:%.*]]
; TUNIT:       omp.par.pre_finalize:
; TUNIT-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT_EXITSTUB:%.*]]
;
;
; TUNIT-LABEL: define {{[^@]+}}@.omp_outlined.
; TUNIT-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; TUNIT-NEXT:    call void @use(i32 [[TMP0]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@.omp_outlined..1
; TUNIT-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; TUNIT-NEXT:    call void @use(i32 [[TMP0]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@unmergable_proc_bind
; TUNIT-SAME: (i32 [[A:%.*]]) local_unnamed_addr {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[A_ADDR:%.*]] = alloca i32, align 4
; TUNIT-NEXT:    [[TMP0:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]])
; TUNIT-NEXT:    store i32 [[A]], i32* [[A_ADDR]], align 4
; TUNIT-NEXT:    call void @__kmpc_push_proc_bind(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]], i32 [[TMP0]], i32 noundef 3)
; TUNIT-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]], i32 noundef 1, void (i32*, i32*, ...)* noundef bitcast (void (i32*, i32*, i32*)* @.omp_outlined..2 to void (i32*, i32*, ...)*), i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; TUNIT-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]], i32 noundef 1, void (i32*, i32*, ...)* noundef bitcast (void (i32*, i32*, i32*)* @.omp_outlined..3 to void (i32*, i32*, ...)*), i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@.omp_outlined..2
; TUNIT-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; TUNIT-NEXT:    call void @use(i32 [[TMP0]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@.omp_outlined..3
; TUNIT-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; TUNIT-NEXT:    call void @use(i32 [[TMP0]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@unmergable_num_threads
; TUNIT-SAME: (i32 [[A:%.*]]) local_unnamed_addr {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[A_ADDR:%.*]] = alloca i32, align 4
; TUNIT-NEXT:    [[TMP0:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]])
; TUNIT-NEXT:    store i32 [[A]], i32* [[A_ADDR]], align 4
; TUNIT-NEXT:    call void @__kmpc_push_num_threads(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]], i32 [[TMP0]], i32 [[A]])
; TUNIT-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]], i32 noundef 1, void (i32*, i32*, ...)* noundef bitcast (void (i32*, i32*, i32*)* @.omp_outlined..4 to void (i32*, i32*, ...)*), i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; TUNIT-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]], i32 noundef 1, void (i32*, i32*, ...)* noundef bitcast (void (i32*, i32*, i32*)* @.omp_outlined..5 to void (i32*, i32*, ...)*), i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@.omp_outlined..4
; TUNIT-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; TUNIT-NEXT:    call void @use(i32 [[TMP0]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@.omp_outlined..5
; TUNIT-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; TUNIT-NEXT:    call void @use(i32 [[TMP0]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@unmergable_seq_call
; TUNIT-SAME: (i32 [[A:%.*]]) local_unnamed_addr {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[A_ADDR:%.*]] = alloca i32, align 4
; TUNIT-NEXT:    store i32 [[A]], i32* [[A_ADDR]], align 4
; TUNIT-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]], i32 noundef 1, void (i32*, i32*, ...)* noundef bitcast (void (i32*, i32*, i32*)* @.omp_outlined..6 to void (i32*, i32*, ...)*), i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; TUNIT-NEXT:    call void (...) @foo()
; TUNIT-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]], i32 noundef 1, void (i32*, i32*, ...)* noundef bitcast (void (i32*, i32*, i32*)* @.omp_outlined..7 to void (i32*, i32*, ...)*), i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@.omp_outlined..6
; TUNIT-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; TUNIT-NEXT:    call void @use(i32 [[TMP0]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@.omp_outlined..7
; TUNIT-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; TUNIT-NEXT:    call void @use(i32 [[TMP0]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@merge_seq
; TUNIT-SAME: (i32 [[A:%.*]]) local_unnamed_addr {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[A_ADDR:%.*]] = alloca i32, align 4
; TUNIT-NEXT:    store i32 [[A]], i32* [[A_ADDR]], align 4
; TUNIT-NEXT:    [[OMP_GLOBAL_THREAD_NUM2:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; TUNIT-NEXT:    br label [[OMP_PARALLEL:%.*]]
; TUNIT:       omp_parallel:
; TUNIT-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* @[[GLOB1]], i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @merge_seq..omp_par to void (i32*, i32*, ...)*), i32* [[A_ADDR]])
; TUNIT-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT:%.*]]
; TUNIT:       omp.par.outlined.exit:
; TUNIT-NEXT:    br label [[OMP_PAR_EXIT_SPLIT:%.*]]
; TUNIT:       omp.par.exit.split:
; TUNIT-NEXT:    br label [[ENTRY_SPLIT_SPLIT:%.*]]
; TUNIT:       entry.split.split:
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A_ADDR]], align 4
; TUNIT-NEXT:    call void @use(i32 [[TMP0]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@merge_seq..omp_par
; TUNIT-SAME: (i32* noalias [[TID_ADDR:%.*]], i32* noalias [[ZERO_ADDR:%.*]], i32* [[A_ADDR:%.*]]) #[[ATTR0]] {
; TUNIT-NEXT:  omp.par.entry:
; TUNIT-NEXT:    [[TID_ADDR_LOCAL:%.*]] = alloca i32, align 4
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[TID_ADDR]], align 4
; TUNIT-NEXT:    store i32 [[TMP0]], i32* [[TID_ADDR_LOCAL]], align 4
; TUNIT-NEXT:    [[TID:%.*]] = load i32, i32* [[TID_ADDR_LOCAL]], align 4
; TUNIT-NEXT:    br label [[OMP_PAR_REGION:%.*]]
; TUNIT:       omp.par.outlined.exit.exitStub:
; TUNIT-NEXT:    ret void
; TUNIT:       omp.par.region:
; TUNIT-NEXT:    br label [[OMP_PAR_MERGED:%.*]]
; TUNIT:       omp.par.merged:
; TUNIT-NEXT:    call void @.omp_outlined..8(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; TUNIT-NEXT:    [[OMP_GLOBAL_THREAD_NUM2:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; TUNIT-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM2]])
; TUNIT-NEXT:    [[OMP_GLOBAL_THREAD_NUM:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; TUNIT-NEXT:    [[TMP1:%.*]] = call i32 @__kmpc_master(%struct.ident_t* @[[GLOB1]], i32 [[OMP_GLOBAL_THREAD_NUM]])
; TUNIT-NEXT:    [[TMP2:%.*]] = icmp ne i32 [[TMP1]], 0
; TUNIT-NEXT:    br i1 [[TMP2]], label [[OMP_REGION_BODY:%.*]], label [[OMP_REGION_END:%.*]]
; TUNIT:       omp_region.end:
; TUNIT-NEXT:    [[OMP_GLOBAL_THREAD_NUM1:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; TUNIT-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM1]])
; TUNIT-NEXT:    br label [[OMP_PAR_MERGED_SPLIT_SPLIT:%.*]]
; TUNIT:       omp.par.merged.split.split:
; TUNIT-NEXT:    call void @.omp_outlined..9(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; TUNIT-NEXT:    br label [[ENTRY_SPLIT:%.*]]
; TUNIT:       entry.split:
; TUNIT-NEXT:    br label [[OMP_PAR_REGION_SPLIT:%.*]]
; TUNIT:       omp.par.region.split:
; TUNIT-NEXT:    br label [[OMP_PAR_PRE_FINALIZE:%.*]]
; TUNIT:       omp.par.pre_finalize:
; TUNIT-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT_EXITSTUB:%.*]]
; TUNIT:       omp_region.body:
; TUNIT-NEXT:    br label [[SEQ_PAR_MERGED:%.*]]
; TUNIT:       seq.par.merged:
; TUNIT-NEXT:    [[TMP3:%.*]] = load i32, i32* [[A_ADDR]], align 4
; TUNIT-NEXT:    [[ADD:%.*]] = add nsw i32 [[TMP3]], 1
; TUNIT-NEXT:    store i32 [[ADD]], i32* [[A_ADDR]], align 4
; TUNIT-NEXT:    br label [[OMP_PAR_MERGED_SPLIT:%.*]]
; TUNIT:       omp.par.merged.split:
; TUNIT-NEXT:    br label [[OMP_REGION_BODY_SPLIT:%.*]]
; TUNIT:       omp_region.body.split:
; TUNIT-NEXT:    call void @__kmpc_end_master(%struct.ident_t* @[[GLOB1]], i32 [[OMP_GLOBAL_THREAD_NUM]])
; TUNIT-NEXT:    br label [[OMP_REGION_END]]
;
;
; TUNIT-LABEL: define {{[^@]+}}@.omp_outlined..8
; TUNIT-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; TUNIT-NEXT:    call void @use(i32 [[TMP0]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@.omp_outlined..9
; TUNIT-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; TUNIT-NEXT:    call void @use(i32 [[TMP0]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@merge_seq_float
; TUNIT-SAME: (float [[F:%.*]], float* nocapture writeonly [[P:%.*]]) local_unnamed_addr {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[F_ADDR:%.*]] = alloca float, align 4
; TUNIT-NEXT:    store float [[F]], float* [[F_ADDR]], align 4
; TUNIT-NEXT:    [[OMP_GLOBAL_THREAD_NUM2:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; TUNIT-NEXT:    br label [[OMP_PARALLEL:%.*]]
; TUNIT:       omp_parallel:
; TUNIT-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* @[[GLOB1]], i32 2, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, float*, float*)* @merge_seq_float..omp_par to void (i32*, i32*, ...)*), float* [[F_ADDR]], float* [[P]])
; TUNIT-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT:%.*]]
; TUNIT:       omp.par.outlined.exit:
; TUNIT-NEXT:    br label [[OMP_PAR_EXIT_SPLIT:%.*]]
; TUNIT:       omp.par.exit.split:
; TUNIT-NEXT:    br label [[ENTRY_SPLIT_SPLIT:%.*]]
; TUNIT:       entry.split.split:
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@merge_seq_float..omp_par
; TUNIT-SAME: (i32* noalias [[TID_ADDR:%.*]], i32* noalias [[ZERO_ADDR:%.*]], float* [[F_ADDR:%.*]], float* [[P:%.*]]) #[[ATTR0]] {
; TUNIT-NEXT:  omp.par.entry:
; TUNIT-NEXT:    [[TID_ADDR_LOCAL:%.*]] = alloca i32, align 4
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[TID_ADDR]], align 4
; TUNIT-NEXT:    store i32 [[TMP0]], i32* [[TID_ADDR_LOCAL]], align 4
; TUNIT-NEXT:    [[TID:%.*]] = load i32, i32* [[TID_ADDR_LOCAL]], align 4
; TUNIT-NEXT:    br label [[OMP_PAR_REGION:%.*]]
; TUNIT:       omp.par.outlined.exit.exitStub:
; TUNIT-NEXT:    ret void
; TUNIT:       omp.par.region:
; TUNIT-NEXT:    br label [[OMP_PAR_MERGED:%.*]]
; TUNIT:       omp.par.merged:
; TUNIT-NEXT:    call void @.omp_outlined..10(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], float* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[F_ADDR]])
; TUNIT-NEXT:    [[OMP_GLOBAL_THREAD_NUM2:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; TUNIT-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM2]])
; TUNIT-NEXT:    [[OMP_GLOBAL_THREAD_NUM:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; TUNIT-NEXT:    [[TMP1:%.*]] = call i32 @__kmpc_master(%struct.ident_t* @[[GLOB1]], i32 [[OMP_GLOBAL_THREAD_NUM]])
; TUNIT-NEXT:    [[TMP2:%.*]] = icmp ne i32 [[TMP1]], 0
; TUNIT-NEXT:    br i1 [[TMP2]], label [[OMP_REGION_BODY:%.*]], label [[OMP_REGION_END:%.*]]
; TUNIT:       omp_region.end:
; TUNIT-NEXT:    [[OMP_GLOBAL_THREAD_NUM1:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; TUNIT-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM1]])
; TUNIT-NEXT:    br label [[OMP_PAR_MERGED_SPLIT_SPLIT:%.*]]
; TUNIT:       omp.par.merged.split.split:
; TUNIT-NEXT:    call void @.omp_outlined..11(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], float* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[F_ADDR]])
; TUNIT-NEXT:    br label [[ENTRY_SPLIT:%.*]]
; TUNIT:       entry.split:
; TUNIT-NEXT:    br label [[OMP_PAR_REGION_SPLIT:%.*]]
; TUNIT:       omp.par.region.split:
; TUNIT-NEXT:    br label [[OMP_PAR_PRE_FINALIZE:%.*]]
; TUNIT:       omp.par.pre_finalize:
; TUNIT-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT_EXITSTUB:%.*]]
; TUNIT:       omp_region.body:
; TUNIT-NEXT:    br label [[SEQ_PAR_MERGED:%.*]]
; TUNIT:       seq.par.merged:
; TUNIT-NEXT:    [[TMP3:%.*]] = load float, float* [[F_ADDR]], align 4
; TUNIT-NEXT:    [[ADD:%.*]] = fadd float [[TMP3]], 0x40091EB860000000
; TUNIT-NEXT:    store float [[ADD]], float* [[P]], align 4
; TUNIT-NEXT:    br label [[OMP_PAR_MERGED_SPLIT:%.*]]
; TUNIT:       omp.par.merged.split:
; TUNIT-NEXT:    br label [[OMP_REGION_BODY_SPLIT:%.*]]
; TUNIT:       omp_region.body.split:
; TUNIT-NEXT:    call void @__kmpc_end_master(%struct.ident_t* @[[GLOB1]], i32 [[OMP_GLOBAL_THREAD_NUM]])
; TUNIT-NEXT:    br label [[OMP_REGION_END]]
;
;
; TUNIT-LABEL: define {{[^@]+}}@.omp_outlined..10
; TUNIT-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], float* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[F:%.*]]) {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[TMP0:%.*]] = load float, float* [[F]], align 4
; TUNIT-NEXT:    [[CONV:%.*]] = fptosi float [[TMP0]] to i32
; TUNIT-NEXT:    call void @use(i32 [[CONV]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@.omp_outlined..11
; TUNIT-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], float* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[F:%.*]]) {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[TMP0:%.*]] = load float, float* [[F]], align 4
; TUNIT-NEXT:    [[CONV:%.*]] = fptosi float [[TMP0]] to i32
; TUNIT-NEXT:    call void @use(i32 [[CONV]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@merge_seq_firstprivate
; TUNIT-SAME: (i32 [[A:%.*]]) local_unnamed_addr {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[A_CASTED_SROA_0_0_INSERT_EXT_SEQ_OUTPUT_ALLOC:%.*]] = alloca i64, align 8
; TUNIT-NEXT:    [[A_ADDR:%.*]] = alloca i32, align 4
; TUNIT-NEXT:    store i32 [[A]], i32* [[A_ADDR]], align 4
; TUNIT-NEXT:    [[OMP_GLOBAL_THREAD_NUM2:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; TUNIT-NEXT:    br label [[OMP_PARALLEL:%.*]]
; TUNIT:       omp_parallel:
; TUNIT-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* @[[GLOB1]], i32 2, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*, i64*)* @merge_seq_firstprivate..omp_par to void (i32*, i32*, ...)*), i32* [[A_ADDR]], i64* [[A_CASTED_SROA_0_0_INSERT_EXT_SEQ_OUTPUT_ALLOC]])
; TUNIT-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT:%.*]]
; TUNIT:       omp.par.outlined.exit:
; TUNIT-NEXT:    br label [[OMP_PAR_EXIT_SPLIT:%.*]]
; TUNIT:       omp.par.exit.split:
; TUNIT-NEXT:    br label [[ENTRY_SPLIT_SPLIT:%.*]]
; TUNIT:       entry.split.split:
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A_ADDR]], align 4
; TUNIT-NEXT:    call void @use(i32 [[TMP0]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@merge_seq_firstprivate..omp_par
; TUNIT-SAME: (i32* noalias [[TID_ADDR:%.*]], i32* noalias [[ZERO_ADDR:%.*]], i32* [[A_ADDR:%.*]], i64* [[A_CASTED_SROA_0_0_INSERT_EXT_SEQ_OUTPUT_ALLOC:%.*]]) #[[ATTR0]] {
; TUNIT-NEXT:  omp.par.entry:
; TUNIT-NEXT:    [[TID_ADDR_LOCAL:%.*]] = alloca i32, align 4
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[TID_ADDR]], align 4
; TUNIT-NEXT:    store i32 [[TMP0]], i32* [[TID_ADDR_LOCAL]], align 4
; TUNIT-NEXT:    [[TID:%.*]] = load i32, i32* [[TID_ADDR_LOCAL]], align 4
; TUNIT-NEXT:    br label [[OMP_PAR_REGION:%.*]]
; TUNIT:       omp.par.outlined.exit.exitStub:
; TUNIT-NEXT:    ret void
; TUNIT:       omp.par.region:
; TUNIT-NEXT:    br label [[OMP_PAR_MERGED:%.*]]
; TUNIT:       omp.par.merged:
; TUNIT-NEXT:    call void @.omp_outlined..12(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; TUNIT-NEXT:    [[OMP_GLOBAL_THREAD_NUM2:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; TUNIT-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM2]])
; TUNIT-NEXT:    [[OMP_GLOBAL_THREAD_NUM:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; TUNIT-NEXT:    [[TMP1:%.*]] = call i32 @__kmpc_master(%struct.ident_t* @[[GLOB1]], i32 [[OMP_GLOBAL_THREAD_NUM]])
; TUNIT-NEXT:    [[TMP2:%.*]] = icmp ne i32 [[TMP1]], 0
; TUNIT-NEXT:    br i1 [[TMP2]], label [[OMP_REGION_BODY:%.*]], label [[OMP_REGION_END:%.*]]
; TUNIT:       omp_region.end:
; TUNIT-NEXT:    [[OMP_GLOBAL_THREAD_NUM1:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; TUNIT-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM1]])
; TUNIT-NEXT:    br label [[OMP_PAR_MERGED_SPLIT_SPLIT:%.*]]
; TUNIT:       omp.par.merged.split.split:
; TUNIT-NEXT:    [[A_CASTED_SROA_0_0_INSERT_EXT_SEQ_OUTPUT_LOAD:%.*]] = load i64, i64* [[A_CASTED_SROA_0_0_INSERT_EXT_SEQ_OUTPUT_ALLOC]], align 8
; TUNIT-NEXT:    call void @.omp_outlined..13(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i64 [[A_CASTED_SROA_0_0_INSERT_EXT_SEQ_OUTPUT_LOAD]])
; TUNIT-NEXT:    br label [[ENTRY_SPLIT:%.*]]
; TUNIT:       entry.split:
; TUNIT-NEXT:    br label [[OMP_PAR_REGION_SPLIT:%.*]]
; TUNIT:       omp.par.region.split:
; TUNIT-NEXT:    br label [[OMP_PAR_PRE_FINALIZE:%.*]]
; TUNIT:       omp.par.pre_finalize:
; TUNIT-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT_EXITSTUB:%.*]]
; TUNIT:       omp_region.body:
; TUNIT-NEXT:    br label [[SEQ_PAR_MERGED:%.*]]
; TUNIT:       seq.par.merged:
; TUNIT-NEXT:    [[TMP3:%.*]] = load i32, i32* [[A_ADDR]], align 4
; TUNIT-NEXT:    [[ADD:%.*]] = add nsw i32 [[TMP3]], 1
; TUNIT-NEXT:    store i32 [[ADD]], i32* [[A_ADDR]], align 4
; TUNIT-NEXT:    [[A_CASTED_SROA_0_0_INSERT_EXT:%.*]] = zext i32 [[ADD]] to i64
; TUNIT-NEXT:    store i64 [[A_CASTED_SROA_0_0_INSERT_EXT]], i64* [[A_CASTED_SROA_0_0_INSERT_EXT_SEQ_OUTPUT_ALLOC]], align 8
; TUNIT-NEXT:    br label [[OMP_PAR_MERGED_SPLIT:%.*]]
; TUNIT:       omp.par.merged.split:
; TUNIT-NEXT:    br label [[OMP_REGION_BODY_SPLIT:%.*]]
; TUNIT:       omp_region.body.split:
; TUNIT-NEXT:    call void @__kmpc_end_master(%struct.ident_t* @[[GLOB1]], i32 [[OMP_GLOBAL_THREAD_NUM]])
; TUNIT-NEXT:    br label [[OMP_REGION_END]]
;
;
; TUNIT-LABEL: define {{[^@]+}}@.omp_outlined..12
; TUNIT-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; TUNIT-NEXT:    call void @use(i32 [[TMP0]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@.omp_outlined..13
; TUNIT-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i64 [[A:%.*]]) {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[A_ADDR_SROA_0_0_EXTRACT_TRUNC:%.*]] = trunc i64 [[A]] to i32
; TUNIT-NEXT:    call void @use(i32 [[A_ADDR_SROA_0_0_EXTRACT_TRUNC]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@merge_seq_sink_lt
; TUNIT-SAME: (i32 [[A:%.*]]) local_unnamed_addr {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[A_ADDR:%.*]] = alloca i32, align 4
; TUNIT-NEXT:    store i32 [[A]], i32* [[A_ADDR]], align 4
; TUNIT-NEXT:    [[OMP_GLOBAL_THREAD_NUM2:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; TUNIT-NEXT:    br label [[OMP_PARALLEL:%.*]]
; TUNIT:       omp_parallel:
; TUNIT-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* @[[GLOB1]], i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @merge_seq_sink_lt..omp_par to void (i32*, i32*, ...)*), i32* [[A_ADDR]])
; TUNIT-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT:%.*]]
; TUNIT:       omp.par.outlined.exit:
; TUNIT-NEXT:    br label [[OMP_PAR_EXIT_SPLIT:%.*]]
; TUNIT:       omp.par.exit.split:
; TUNIT-NEXT:    br label [[ENTRY_SPLIT_SPLIT:%.*]]
; TUNIT:       entry.split.split:
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@merge_seq_sink_lt..omp_par
; TUNIT-SAME: (i32* noalias [[TID_ADDR:%.*]], i32* noalias [[ZERO_ADDR:%.*]], i32* [[A_ADDR:%.*]]) #[[ATTR0]] {
; TUNIT-NEXT:  omp.par.entry:
; TUNIT-NEXT:    [[B:%.*]] = alloca i32, align 4
; TUNIT-NEXT:    [[TID_ADDR_LOCAL:%.*]] = alloca i32, align 4
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[TID_ADDR]], align 4
; TUNIT-NEXT:    store i32 [[TMP0]], i32* [[TID_ADDR_LOCAL]], align 4
; TUNIT-NEXT:    [[TID:%.*]] = load i32, i32* [[TID_ADDR_LOCAL]], align 4
; TUNIT-NEXT:    br label [[OMP_PAR_REGION:%.*]]
; TUNIT:       omp.par.outlined.exit.exitStub:
; TUNIT-NEXT:    ret void
; TUNIT:       omp.par.region:
; TUNIT-NEXT:    br label [[OMP_PAR_MERGED:%.*]]
; TUNIT:       omp.par.merged:
; TUNIT-NEXT:    call void @.omp_outlined..14(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; TUNIT-NEXT:    [[OMP_GLOBAL_THREAD_NUM2:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; TUNIT-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM2]])
; TUNIT-NEXT:    [[OMP_GLOBAL_THREAD_NUM:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; TUNIT-NEXT:    [[TMP1:%.*]] = call i32 @__kmpc_master(%struct.ident_t* @[[GLOB1]], i32 [[OMP_GLOBAL_THREAD_NUM]])
; TUNIT-NEXT:    [[TMP2:%.*]] = icmp ne i32 [[TMP1]], 0
; TUNIT-NEXT:    br i1 [[TMP2]], label [[OMP_REGION_BODY:%.*]], label [[OMP_REGION_END:%.*]]
; TUNIT:       omp_region.end:
; TUNIT-NEXT:    [[OMP_GLOBAL_THREAD_NUM1:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; TUNIT-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM1]])
; TUNIT-NEXT:    br label [[OMP_PAR_MERGED_SPLIT_SPLIT:%.*]]
; TUNIT:       omp.par.merged.split.split:
; TUNIT-NEXT:    call void @.omp_outlined..15(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; TUNIT-NEXT:    br label [[ENTRY_SPLIT:%.*]]
; TUNIT:       entry.split:
; TUNIT-NEXT:    br label [[OMP_PAR_REGION_SPLIT:%.*]]
; TUNIT:       omp.par.region.split:
; TUNIT-NEXT:    br label [[OMP_PAR_PRE_FINALIZE:%.*]]
; TUNIT:       omp.par.pre_finalize:
; TUNIT-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT_EXITSTUB:%.*]]
; TUNIT:       omp_region.body:
; TUNIT-NEXT:    br label [[SEQ_PAR_MERGED:%.*]]
; TUNIT:       seq.par.merged:
; TUNIT-NEXT:    [[TMP3:%.*]] = bitcast i32* [[B]] to i8*
; TUNIT-NEXT:    call void @llvm.lifetime.start.p0i8(i64 noundef 4, i8* noundef nonnull [[TMP3]])
; TUNIT-NEXT:    [[TMP4:%.*]] = ptrtoint i32* [[B]] to i64
; TUNIT-NEXT:    [[TMP5:%.*]] = trunc i64 [[TMP4]] to i32
; TUNIT-NEXT:    store i32 [[TMP5]], i32* [[B]], align 4
; TUNIT-NEXT:    call void @llvm.lifetime.end.p0i8(i64 noundef 4, i8* noundef nonnull [[TMP3]])
; TUNIT-NEXT:    br label [[OMP_PAR_MERGED_SPLIT:%.*]]
; TUNIT:       omp.par.merged.split:
; TUNIT-NEXT:    br label [[OMP_REGION_BODY_SPLIT:%.*]]
; TUNIT:       omp_region.body.split:
; TUNIT-NEXT:    call void @__kmpc_end_master(%struct.ident_t* @[[GLOB1]], i32 [[OMP_GLOBAL_THREAD_NUM]])
; TUNIT-NEXT:    br label [[OMP_REGION_END]]
;
;
; TUNIT-LABEL: define {{[^@]+}}@.omp_outlined..14
; TUNIT-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; TUNIT-NEXT:    call void @use(i32 [[TMP0]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@.omp_outlined..15
; TUNIT-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; TUNIT-NEXT:    call void @use(i32 [[TMP0]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@merge_seq_par_use
; TUNIT-SAME: (i32 [[A:%.*]]) local_unnamed_addr {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[A_ADDR:%.*]] = alloca i32, align 4
; TUNIT-NEXT:    [[B:%.*]] = alloca i32, align 4
; TUNIT-NEXT:    store i32 [[A]], i32* [[A_ADDR]], align 4
; TUNIT-NEXT:    [[OMP_GLOBAL_THREAD_NUM2:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; TUNIT-NEXT:    br label [[OMP_PARALLEL:%.*]]
; TUNIT:       omp_parallel:
; TUNIT-NEXT:    [[LT_CAST3:%.*]] = bitcast i32* [[B]] to i8*
; TUNIT-NEXT:    call void @llvm.lifetime.start.p0i8(i64 -1, i8* [[LT_CAST3]])
; TUNIT-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* @[[GLOB1]], i32 2, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*, i32*)* @merge_seq_par_use..omp_par to void (i32*, i32*, ...)*), i32* [[A_ADDR]], i32* [[B]])
; TUNIT-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT:%.*]]
; TUNIT:       omp.par.outlined.exit:
; TUNIT-NEXT:    br label [[OMP_PAR_EXIT_SPLIT:%.*]]
; TUNIT:       omp.par.exit.split:
; TUNIT-NEXT:    br label [[ENTRY_SPLIT_SPLIT:%.*]]
; TUNIT:       entry.split.split:
; TUNIT-NEXT:    [[LT_CAST:%.*]] = bitcast i32* [[B]] to i8*
; TUNIT-NEXT:    call void @llvm.lifetime.end.p0i8(i64 noundef 4, i8* noundef nonnull [[LT_CAST]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@merge_seq_par_use..omp_par
; TUNIT-SAME: (i32* noalias [[TID_ADDR:%.*]], i32* noalias [[ZERO_ADDR:%.*]], i32* [[A_ADDR:%.*]], i32* [[B:%.*]]) #[[ATTR0]] {
; TUNIT-NEXT:  omp.par.entry:
; TUNIT-NEXT:    [[TID_ADDR_LOCAL:%.*]] = alloca i32, align 4
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[TID_ADDR]], align 4
; TUNIT-NEXT:    store i32 [[TMP0]], i32* [[TID_ADDR_LOCAL]], align 4
; TUNIT-NEXT:    [[TID:%.*]] = load i32, i32* [[TID_ADDR_LOCAL]], align 4
; TUNIT-NEXT:    br label [[OMP_PAR_REGION:%.*]]
; TUNIT:       omp.par.outlined.exit.exitStub:
; TUNIT-NEXT:    ret void
; TUNIT:       omp.par.region:
; TUNIT-NEXT:    br label [[OMP_PAR_MERGED:%.*]]
; TUNIT:       omp.par.merged:
; TUNIT-NEXT:    call void @.omp_outlined..16(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; TUNIT-NEXT:    [[OMP_GLOBAL_THREAD_NUM2:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; TUNIT-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM2]])
; TUNIT-NEXT:    [[OMP_GLOBAL_THREAD_NUM:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; TUNIT-NEXT:    [[TMP1:%.*]] = call i32 @__kmpc_master(%struct.ident_t* @[[GLOB1]], i32 [[OMP_GLOBAL_THREAD_NUM]])
; TUNIT-NEXT:    [[TMP2:%.*]] = icmp ne i32 [[TMP1]], 0
; TUNIT-NEXT:    br i1 [[TMP2]], label [[OMP_REGION_BODY:%.*]], label [[OMP_REGION_END:%.*]]
; TUNIT:       omp_region.end:
; TUNIT-NEXT:    [[OMP_GLOBAL_THREAD_NUM1:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; TUNIT-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM1]])
; TUNIT-NEXT:    br label [[OMP_PAR_MERGED_SPLIT_SPLIT:%.*]]
; TUNIT:       omp.par.merged.split.split:
; TUNIT-NEXT:    call void @.omp_outlined..17(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[B]])
; TUNIT-NEXT:    br label [[ENTRY_SPLIT:%.*]]
; TUNIT:       entry.split:
; TUNIT-NEXT:    br label [[OMP_PAR_REGION_SPLIT:%.*]]
; TUNIT:       omp.par.region.split:
; TUNIT-NEXT:    br label [[OMP_PAR_PRE_FINALIZE:%.*]]
; TUNIT:       omp.par.pre_finalize:
; TUNIT-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT_EXITSTUB:%.*]]
; TUNIT:       omp_region.body:
; TUNIT-NEXT:    br label [[SEQ_PAR_MERGED:%.*]]
; TUNIT:       seq.par.merged:
; TUNIT-NEXT:    [[TMP3:%.*]] = bitcast i32* [[B]] to i8*
; TUNIT-NEXT:    [[TMP4:%.*]] = load i32, i32* [[A_ADDR]], align 4
; TUNIT-NEXT:    [[ADD:%.*]] = add nsw i32 [[TMP4]], 1
; TUNIT-NEXT:    store i32 [[ADD]], i32* [[B]], align 4
; TUNIT-NEXT:    br label [[OMP_PAR_MERGED_SPLIT:%.*]]
; TUNIT:       omp.par.merged.split:
; TUNIT-NEXT:    br label [[OMP_REGION_BODY_SPLIT:%.*]]
; TUNIT:       omp_region.body.split:
; TUNIT-NEXT:    call void @__kmpc_end_master(%struct.ident_t* @[[GLOB1]], i32 [[OMP_GLOBAL_THREAD_NUM]])
; TUNIT-NEXT:    br label [[OMP_REGION_END]]
;
;
; TUNIT-LABEL: define {{[^@]+}}@.omp_outlined..16
; TUNIT-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; TUNIT-NEXT:    call void @use(i32 [[TMP0]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@.omp_outlined..17
; TUNIT-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[B:%.*]]) {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; TUNIT-NEXT:    call void @use(i32 [[TMP0]])
; TUNIT-NEXT:    [[TMP1:%.*]] = load i32, i32* [[B]], align 4
; TUNIT-NEXT:    call void @use(i32 [[TMP1]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@merge_cancellable_regions
; TUNIT-SAME: (i32 [[CANCEL1:%.*]], i32 [[CANCEL2:%.*]]) local_unnamed_addr {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[CANCEL1_ADDR:%.*]] = alloca i32, align 4
; TUNIT-NEXT:    [[CANCEL2_ADDR:%.*]] = alloca i32, align 4
; TUNIT-NEXT:    store i32 [[CANCEL1]], i32* [[CANCEL1_ADDR]], align 4
; TUNIT-NEXT:    store i32 [[CANCEL2]], i32* [[CANCEL2_ADDR]], align 4
; TUNIT-NEXT:    [[OMP_GLOBAL_THREAD_NUM:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; TUNIT-NEXT:    br label [[OMP_PARALLEL:%.*]]
; TUNIT:       omp_parallel:
; TUNIT-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* @[[GLOB1]], i32 2, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*, i32*)* @merge_cancellable_regions..omp_par to void (i32*, i32*, ...)*), i32* [[CANCEL1_ADDR]], i32* [[CANCEL2_ADDR]])
; TUNIT-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT:%.*]]
; TUNIT:       omp.par.outlined.exit:
; TUNIT-NEXT:    br label [[OMP_PAR_EXIT_SPLIT:%.*]]
; TUNIT:       omp.par.exit.split:
; TUNIT-NEXT:    br label [[ENTRY_SPLIT_SPLIT:%.*]]
; TUNIT:       entry.split.split:
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@merge_cancellable_regions..omp_par
; TUNIT-SAME: (i32* noalias [[TID_ADDR:%.*]], i32* noalias [[ZERO_ADDR:%.*]], i32* [[CANCEL1_ADDR:%.*]], i32* [[CANCEL2_ADDR:%.*]]) #[[ATTR0]] {
; TUNIT-NEXT:  omp.par.entry:
; TUNIT-NEXT:    [[TID_ADDR_LOCAL:%.*]] = alloca i32, align 4
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[TID_ADDR]], align 4
; TUNIT-NEXT:    store i32 [[TMP0]], i32* [[TID_ADDR_LOCAL]], align 4
; TUNIT-NEXT:    [[TID:%.*]] = load i32, i32* [[TID_ADDR_LOCAL]], align 4
; TUNIT-NEXT:    br label [[OMP_PAR_REGION:%.*]]
; TUNIT:       omp.par.outlined.exit.exitStub:
; TUNIT-NEXT:    ret void
; TUNIT:       omp.par.region:
; TUNIT-NEXT:    br label [[OMP_PAR_MERGED:%.*]]
; TUNIT:       omp.par.merged:
; TUNIT-NEXT:    call void @.omp_outlined..18(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[CANCEL1_ADDR]])
; TUNIT-NEXT:    [[OMP_GLOBAL_THREAD_NUM:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; TUNIT-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM]])
; TUNIT-NEXT:    call void @.omp_outlined..19(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[CANCEL2_ADDR]])
; TUNIT-NEXT:    br label [[ENTRY_SPLIT:%.*]]
; TUNIT:       entry.split:
; TUNIT-NEXT:    br label [[OMP_PAR_REGION_SPLIT:%.*]]
; TUNIT:       omp.par.region.split:
; TUNIT-NEXT:    br label [[OMP_PAR_PRE_FINALIZE:%.*]]
; TUNIT:       omp.par.pre_finalize:
; TUNIT-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT_EXITSTUB:%.*]]
;
;
; TUNIT-LABEL: define {{[^@]+}}@.omp_outlined..18
; TUNIT-SAME: (i32* noalias nocapture readonly [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[CANCEL1:%.*]]) {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[CANCEL1]], align 4
; TUNIT-NEXT:    [[TOBOOL_NOT:%.*]] = icmp eq i32 [[TMP0]], 0
; TUNIT-NEXT:    br i1 [[TOBOOL_NOT]], label [[IF_END:%.*]], label [[IF_THEN:%.*]]
; TUNIT:       if.then:
; TUNIT-NEXT:    [[TMP1:%.*]] = load i32, i32* [[DOTGLOBAL_TID_]], align 4
; TUNIT-NEXT:    [[TMP2:%.*]] = call i32 @__kmpc_cancel(%struct.ident_t* noundef nonnull @[[GLOB1]], i32 [[TMP1]], i32 noundef 1)
; TUNIT-NEXT:    ret void
; TUNIT:       if.end:
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@.omp_outlined..19
; TUNIT-SAME: (i32* noalias nocapture readonly [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[CANCEL2:%.*]]) {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[CANCEL2]], align 4
; TUNIT-NEXT:    [[TOBOOL_NOT:%.*]] = icmp eq i32 [[TMP0]], 0
; TUNIT-NEXT:    br i1 [[TOBOOL_NOT]], label [[IF_END:%.*]], label [[IF_THEN:%.*]]
; TUNIT:       if.then:
; TUNIT-NEXT:    [[TMP1:%.*]] = load i32, i32* [[DOTGLOBAL_TID_]], align 4
; TUNIT-NEXT:    [[TMP2:%.*]] = call i32 @__kmpc_cancel(%struct.ident_t* noundef nonnull @[[GLOB1]], i32 [[TMP1]], i32 noundef 1)
; TUNIT-NEXT:    ret void
; TUNIT:       if.end:
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@merge_cancellable_regions_seq
; TUNIT-SAME: (i32 [[CANCEL1:%.*]], i32 [[CANCEL2:%.*]]) local_unnamed_addr {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[CANCEL1_ADDR:%.*]] = alloca i32, align 4
; TUNIT-NEXT:    [[CANCEL2_ADDR:%.*]] = alloca i32, align 4
; TUNIT-NEXT:    store i32 [[CANCEL1]], i32* [[CANCEL1_ADDR]], align 4
; TUNIT-NEXT:    store i32 [[CANCEL2]], i32* [[CANCEL2_ADDR]], align 4
; TUNIT-NEXT:    [[OMP_GLOBAL_THREAD_NUM2:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; TUNIT-NEXT:    br label [[OMP_PARALLEL:%.*]]
; TUNIT:       omp_parallel:
; TUNIT-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* @[[GLOB1]], i32 2, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*, i32*)* @merge_cancellable_regions_seq..omp_par to void (i32*, i32*, ...)*), i32* [[CANCEL1_ADDR]], i32* [[CANCEL2_ADDR]])
; TUNIT-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT:%.*]]
; TUNIT:       omp.par.outlined.exit:
; TUNIT-NEXT:    br label [[OMP_PAR_EXIT_SPLIT:%.*]]
; TUNIT:       omp.par.exit.split:
; TUNIT-NEXT:    br label [[ENTRY_SPLIT_SPLIT:%.*]]
; TUNIT:       entry.split.split:
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@merge_cancellable_regions_seq..omp_par
; TUNIT-SAME: (i32* noalias [[TID_ADDR:%.*]], i32* noalias [[ZERO_ADDR:%.*]], i32* [[CANCEL1_ADDR:%.*]], i32* [[CANCEL2_ADDR:%.*]]) #[[ATTR0]] {
; TUNIT-NEXT:  omp.par.entry:
; TUNIT-NEXT:    [[TID_ADDR_LOCAL:%.*]] = alloca i32, align 4
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[TID_ADDR]], align 4
; TUNIT-NEXT:    store i32 [[TMP0]], i32* [[TID_ADDR_LOCAL]], align 4
; TUNIT-NEXT:    [[TID:%.*]] = load i32, i32* [[TID_ADDR_LOCAL]], align 4
; TUNIT-NEXT:    br label [[OMP_PAR_REGION:%.*]]
; TUNIT:       omp.par.outlined.exit.exitStub:
; TUNIT-NEXT:    ret void
; TUNIT:       omp.par.region:
; TUNIT-NEXT:    br label [[OMP_PAR_MERGED:%.*]]
; TUNIT:       omp.par.merged:
; TUNIT-NEXT:    call void @.omp_outlined..20(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[CANCEL1_ADDR]])
; TUNIT-NEXT:    [[OMP_GLOBAL_THREAD_NUM2:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; TUNIT-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM2]])
; TUNIT-NEXT:    [[OMP_GLOBAL_THREAD_NUM:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; TUNIT-NEXT:    [[TMP1:%.*]] = call i32 @__kmpc_master(%struct.ident_t* @[[GLOB1]], i32 [[OMP_GLOBAL_THREAD_NUM]])
; TUNIT-NEXT:    [[TMP2:%.*]] = icmp ne i32 [[TMP1]], 0
; TUNIT-NEXT:    br i1 [[TMP2]], label [[OMP_REGION_BODY:%.*]], label [[OMP_REGION_END:%.*]]
; TUNIT:       omp_region.end:
; TUNIT-NEXT:    [[OMP_GLOBAL_THREAD_NUM1:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; TUNIT-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM1]])
; TUNIT-NEXT:    br label [[OMP_PAR_MERGED_SPLIT_SPLIT:%.*]]
; TUNIT:       omp.par.merged.split.split:
; TUNIT-NEXT:    call void @.omp_outlined..21(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[CANCEL2_ADDR]])
; TUNIT-NEXT:    br label [[ENTRY_SPLIT:%.*]]
; TUNIT:       entry.split:
; TUNIT-NEXT:    br label [[OMP_PAR_REGION_SPLIT:%.*]]
; TUNIT:       omp.par.region.split:
; TUNIT-NEXT:    br label [[OMP_PAR_PRE_FINALIZE:%.*]]
; TUNIT:       omp.par.pre_finalize:
; TUNIT-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT_EXITSTUB:%.*]]
; TUNIT:       omp_region.body:
; TUNIT-NEXT:    br label [[SEQ_PAR_MERGED:%.*]]
; TUNIT:       seq.par.merged:
; TUNIT-NEXT:    [[TMP3:%.*]] = load i32, i32* [[CANCEL1_ADDR]], align 4
; TUNIT-NEXT:    [[TOBOOL_NOT:%.*]] = icmp eq i32 [[TMP3]], 0
; TUNIT-NEXT:    [[LNOT_EXT:%.*]] = zext i1 [[TOBOOL_NOT]] to i32
; TUNIT-NEXT:    store i32 [[LNOT_EXT]], i32* [[CANCEL2_ADDR]], align 4
; TUNIT-NEXT:    br label [[OMP_PAR_MERGED_SPLIT:%.*]]
; TUNIT:       omp.par.merged.split:
; TUNIT-NEXT:    br label [[OMP_REGION_BODY_SPLIT:%.*]]
; TUNIT:       omp_region.body.split:
; TUNIT-NEXT:    call void @__kmpc_end_master(%struct.ident_t* @[[GLOB1]], i32 [[OMP_GLOBAL_THREAD_NUM]])
; TUNIT-NEXT:    br label [[OMP_REGION_END]]
;
;
; TUNIT-LABEL: define {{[^@]+}}@.omp_outlined..20
; TUNIT-SAME: (i32* noalias nocapture readonly [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[CANCEL1:%.*]]) {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[CANCEL1]], align 4
; TUNIT-NEXT:    [[TOBOOL_NOT:%.*]] = icmp eq i32 [[TMP0]], 0
; TUNIT-NEXT:    br i1 [[TOBOOL_NOT]], label [[IF_END:%.*]], label [[IF_THEN:%.*]]
; TUNIT:       if.then:
; TUNIT-NEXT:    [[TMP1:%.*]] = load i32, i32* [[DOTGLOBAL_TID_]], align 4
; TUNIT-NEXT:    [[TMP2:%.*]] = call i32 @__kmpc_cancel(%struct.ident_t* noundef nonnull @[[GLOB1]], i32 [[TMP1]], i32 noundef 1)
; TUNIT-NEXT:    ret void
; TUNIT:       if.end:
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@.omp_outlined..21
; TUNIT-SAME: (i32* noalias nocapture readonly [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[CANCEL2:%.*]]) {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[CANCEL2]], align 4
; TUNIT-NEXT:    [[TOBOOL_NOT:%.*]] = icmp eq i32 [[TMP0]], 0
; TUNIT-NEXT:    br i1 [[TOBOOL_NOT]], label [[IF_END:%.*]], label [[IF_THEN:%.*]]
; TUNIT:       if.then:
; TUNIT-NEXT:    [[TMP1:%.*]] = load i32, i32* [[DOTGLOBAL_TID_]], align 4
; TUNIT-NEXT:    [[TMP2:%.*]] = call i32 @__kmpc_cancel(%struct.ident_t* noundef nonnull @[[GLOB1]], i32 [[TMP1]], i32 noundef 1)
; TUNIT-NEXT:    ret void
; TUNIT:       if.end:
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@merge_3
; TUNIT-SAME: (i32 [[A:%.*]]) local_unnamed_addr {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[A_ADDR:%.*]] = alloca i32, align 4
; TUNIT-NEXT:    store i32 [[A]], i32* [[A_ADDR]], align 4
; TUNIT-NEXT:    [[OMP_GLOBAL_THREAD_NUM:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; TUNIT-NEXT:    br label [[OMP_PARALLEL:%.*]]
; TUNIT:       omp_parallel:
; TUNIT-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* @[[GLOB1]], i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @merge_3..omp_par to void (i32*, i32*, ...)*), i32* [[A_ADDR]])
; TUNIT-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT:%.*]]
; TUNIT:       omp.par.outlined.exit:
; TUNIT-NEXT:    br label [[OMP_PAR_EXIT_SPLIT:%.*]]
; TUNIT:       omp.par.exit.split:
; TUNIT-NEXT:    br label [[ENTRY_SPLIT_SPLIT:%.*]]
; TUNIT:       entry.split.split:
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@merge_3..omp_par
; TUNIT-SAME: (i32* noalias [[TID_ADDR:%.*]], i32* noalias [[ZERO_ADDR:%.*]], i32* [[A_ADDR:%.*]]) #[[ATTR0]] {
; TUNIT-NEXT:  omp.par.entry:
; TUNIT-NEXT:    [[TID_ADDR_LOCAL:%.*]] = alloca i32, align 4
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[TID_ADDR]], align 4
; TUNIT-NEXT:    store i32 [[TMP0]], i32* [[TID_ADDR_LOCAL]], align 4
; TUNIT-NEXT:    [[TID:%.*]] = load i32, i32* [[TID_ADDR_LOCAL]], align 4
; TUNIT-NEXT:    br label [[OMP_PAR_REGION:%.*]]
; TUNIT:       omp.par.outlined.exit.exitStub:
; TUNIT-NEXT:    ret void
; TUNIT:       omp.par.region:
; TUNIT-NEXT:    br label [[OMP_PAR_MERGED:%.*]]
; TUNIT:       omp.par.merged:
; TUNIT-NEXT:    call void @.omp_outlined..22(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; TUNIT-NEXT:    [[OMP_GLOBAL_THREAD_NUM:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; TUNIT-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM]])
; TUNIT-NEXT:    call void @.omp_outlined..23(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; TUNIT-NEXT:    [[OMP_GLOBAL_THREAD_NUM1:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; TUNIT-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM1]])
; TUNIT-NEXT:    call void @.omp_outlined..24(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; TUNIT-NEXT:    br label [[ENTRY_SPLIT:%.*]]
; TUNIT:       entry.split:
; TUNIT-NEXT:    br label [[OMP_PAR_REGION_SPLIT:%.*]]
; TUNIT:       omp.par.region.split:
; TUNIT-NEXT:    br label [[OMP_PAR_PRE_FINALIZE:%.*]]
; TUNIT:       omp.par.pre_finalize:
; TUNIT-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT_EXITSTUB:%.*]]
;
;
; TUNIT-LABEL: define {{[^@]+}}@.omp_outlined..22
; TUNIT-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; TUNIT-NEXT:    call void @use(i32 [[TMP0]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@.omp_outlined..23
; TUNIT-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; TUNIT-NEXT:    call void @use(i32 [[TMP0]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@.omp_outlined..24
; TUNIT-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; TUNIT-NEXT:    call void @use(i32 [[TMP0]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@merge_3_seq
; TUNIT-SAME: (i32 [[A:%.*]], i32 [[B:%.*]]) local_unnamed_addr {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[ADD1_SEQ_OUTPUT_ALLOC:%.*]] = alloca i32, align 4
; TUNIT-NEXT:    [[ADD_SEQ_OUTPUT_ALLOC:%.*]] = alloca i32, align 4
; TUNIT-NEXT:    [[A_ADDR:%.*]] = alloca i32, align 4
; TUNIT-NEXT:    store i32 [[A]], i32* [[A_ADDR]], align 4
; TUNIT-NEXT:    [[OMP_GLOBAL_THREAD_NUM7:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; TUNIT-NEXT:    br label [[OMP_PARALLEL:%.*]]
; TUNIT:       omp_parallel:
; TUNIT-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* @[[GLOB1]], i32 3, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*, i32*, i32*)* @merge_3_seq..omp_par to void (i32*, i32*, ...)*), i32* [[A_ADDR]], i32* [[ADD_SEQ_OUTPUT_ALLOC]], i32* [[ADD1_SEQ_OUTPUT_ALLOC]])
; TUNIT-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT:%.*]]
; TUNIT:       omp.par.outlined.exit:
; TUNIT-NEXT:    br label [[OMP_PAR_EXIT_SPLIT:%.*]]
; TUNIT:       omp.par.exit.split:
; TUNIT-NEXT:    br label [[ENTRY_SPLIT_SPLIT:%.*]]
; TUNIT:       entry.split.split:
; TUNIT-NEXT:    [[ADD1_SEQ_OUTPUT_LOAD:%.*]] = load i32, i32* [[ADD1_SEQ_OUTPUT_ALLOC]], align 4
; TUNIT-NEXT:    call void @use(i32 [[ADD1_SEQ_OUTPUT_LOAD]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@merge_3_seq..omp_par
; TUNIT-SAME: (i32* noalias [[TID_ADDR:%.*]], i32* noalias [[ZERO_ADDR:%.*]], i32* [[A_ADDR:%.*]], i32* [[ADD_SEQ_OUTPUT_ALLOC:%.*]], i32* [[ADD1_SEQ_OUTPUT_ALLOC:%.*]]) #[[ATTR0]] {
; TUNIT-NEXT:  omp.par.entry:
; TUNIT-NEXT:    [[TID_ADDR_LOCAL:%.*]] = alloca i32, align 4
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[TID_ADDR]], align 4
; TUNIT-NEXT:    store i32 [[TMP0]], i32* [[TID_ADDR_LOCAL]], align 4
; TUNIT-NEXT:    [[TID:%.*]] = load i32, i32* [[TID_ADDR_LOCAL]], align 4
; TUNIT-NEXT:    br label [[OMP_PAR_REGION:%.*]]
; TUNIT:       omp.par.outlined.exit.exitStub:
; TUNIT-NEXT:    ret void
; TUNIT:       omp.par.region:
; TUNIT-NEXT:    br label [[OMP_PAR_MERGED:%.*]]
; TUNIT:       omp.par.merged:
; TUNIT-NEXT:    call void @.omp_outlined..25(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; TUNIT-NEXT:    [[OMP_GLOBAL_THREAD_NUM2:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; TUNIT-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM2]])
; TUNIT-NEXT:    [[OMP_GLOBAL_THREAD_NUM:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; TUNIT-NEXT:    [[TMP1:%.*]] = call i32 @__kmpc_master(%struct.ident_t* @[[GLOB1]], i32 [[OMP_GLOBAL_THREAD_NUM]])
; TUNIT-NEXT:    [[TMP2:%.*]] = icmp ne i32 [[TMP1]], 0
; TUNIT-NEXT:    br i1 [[TMP2]], label [[OMP_REGION_BODY:%.*]], label [[OMP_REGION_END:%.*]]
; TUNIT:       omp_region.end:
; TUNIT-NEXT:    [[OMP_GLOBAL_THREAD_NUM1:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; TUNIT-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM1]])
; TUNIT-NEXT:    br label [[OMP_PAR_MERGED_SPLIT_SPLIT:%.*]]
; TUNIT:       omp.par.merged.split.split:
; TUNIT-NEXT:    call void @.omp_outlined..26(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; TUNIT-NEXT:    [[OMP_GLOBAL_THREAD_NUM4:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; TUNIT-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM4]])
; TUNIT-NEXT:    [[OMP_GLOBAL_THREAD_NUM3:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; TUNIT-NEXT:    [[TMP3:%.*]] = call i32 @__kmpc_master(%struct.ident_t* @[[GLOB1]], i32 [[OMP_GLOBAL_THREAD_NUM3]])
; TUNIT-NEXT:    [[TMP4:%.*]] = icmp ne i32 [[TMP3]], 0
; TUNIT-NEXT:    br i1 [[TMP4]], label [[OMP_REGION_BODY5:%.*]], label [[OMP_REGION_END4:%.*]]
; TUNIT:       omp_region.end4:
; TUNIT-NEXT:    [[OMP_GLOBAL_THREAD_NUM6:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; TUNIT-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM6]])
; TUNIT-NEXT:    br label [[OMP_PAR_MERGED_SPLIT_SPLIT_SPLIT_SPLIT:%.*]]
; TUNIT:       omp.par.merged.split.split.split.split:
; TUNIT-NEXT:    call void @.omp_outlined..27(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; TUNIT-NEXT:    br label [[ENTRY_SPLIT:%.*]]
; TUNIT:       entry.split:
; TUNIT-NEXT:    br label [[OMP_PAR_REGION_SPLIT:%.*]]
; TUNIT:       omp.par.region.split:
; TUNIT-NEXT:    br label [[OMP_PAR_PRE_FINALIZE:%.*]]
; TUNIT:       omp.par.pre_finalize:
; TUNIT-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT_EXITSTUB:%.*]]
; TUNIT:       omp_region.body5:
; TUNIT-NEXT:    br label [[SEQ_PAR_MERGED2:%.*]]
; TUNIT:       seq.par.merged2:
; TUNIT-NEXT:    [[TMP5:%.*]] = load i32, i32* [[A_ADDR]], align 4
; TUNIT-NEXT:    [[ADD_SEQ_OUTPUT_LOAD:%.*]] = load i32, i32* [[ADD_SEQ_OUTPUT_ALLOC]], align 4
; TUNIT-NEXT:    [[ADD1:%.*]] = add nsw i32 [[ADD_SEQ_OUTPUT_LOAD]], [[TMP5]]
; TUNIT-NEXT:    store i32 [[ADD1]], i32* [[ADD1_SEQ_OUTPUT_ALLOC]], align 4
; TUNIT-NEXT:    br label [[OMP_PAR_MERGED_SPLIT_SPLIT_SPLIT:%.*]]
; TUNIT:       omp.par.merged.split.split.split:
; TUNIT-NEXT:    br label [[OMP_REGION_BODY5_SPLIT:%.*]]
; TUNIT:       omp_region.body5.split:
; TUNIT-NEXT:    call void @__kmpc_end_master(%struct.ident_t* @[[GLOB1]], i32 [[OMP_GLOBAL_THREAD_NUM3]])
; TUNIT-NEXT:    br label [[OMP_REGION_END4]]
; TUNIT:       omp_region.body:
; TUNIT-NEXT:    br label [[SEQ_PAR_MERGED:%.*]]
; TUNIT:       seq.par.merged:
; TUNIT-NEXT:    [[TMP6:%.*]] = load i32, i32* [[A_ADDR]], align 4
; TUNIT-NEXT:    [[ADD:%.*]] = add nsw i32 [[TMP6]], 1
; TUNIT-NEXT:    store i32 [[ADD]], i32* [[ADD_SEQ_OUTPUT_ALLOC]], align 4
; TUNIT-NEXT:    br label [[OMP_PAR_MERGED_SPLIT:%.*]]
; TUNIT:       omp.par.merged.split:
; TUNIT-NEXT:    br label [[OMP_REGION_BODY_SPLIT:%.*]]
; TUNIT:       omp_region.body.split:
; TUNIT-NEXT:    call void @__kmpc_end_master(%struct.ident_t* @[[GLOB1]], i32 [[OMP_GLOBAL_THREAD_NUM]])
; TUNIT-NEXT:    br label [[OMP_REGION_END]]
;
;
; TUNIT-LABEL: define {{[^@]+}}@.omp_outlined..25
; TUNIT-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; TUNIT-NEXT:    call void @use(i32 [[TMP0]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@.omp_outlined..26
; TUNIT-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; TUNIT-NEXT:    call void @use(i32 [[TMP0]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@.omp_outlined..27
; TUNIT-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; TUNIT-NEXT:    call void @use(i32 [[TMP0]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@unmergable_3_seq_call
; TUNIT-SAME: (i32 [[A:%.*]]) local_unnamed_addr {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[A_ADDR:%.*]] = alloca i32, align 4
; TUNIT-NEXT:    store i32 [[A]], i32* [[A_ADDR]], align 4
; TUNIT-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]], i32 noundef 1, void (i32*, i32*, ...)* noundef bitcast (void (i32*, i32*, i32*)* @.omp_outlined..28 to void (i32*, i32*, ...)*), i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; TUNIT-NEXT:    call void (...) @foo()
; TUNIT-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]], i32 noundef 1, void (i32*, i32*, ...)* noundef bitcast (void (i32*, i32*, i32*)* @.omp_outlined..29 to void (i32*, i32*, ...)*), i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; TUNIT-NEXT:    call void (...) @foo()
; TUNIT-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]], i32 noundef 1, void (i32*, i32*, ...)* noundef bitcast (void (i32*, i32*, i32*)* @.omp_outlined..30 to void (i32*, i32*, ...)*), i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@.omp_outlined..28
; TUNIT-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; TUNIT-NEXT:    call void @use(i32 [[TMP0]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@.omp_outlined..29
; TUNIT-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; TUNIT-NEXT:    call void @use(i32 [[TMP0]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@.omp_outlined..30
; TUNIT-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; TUNIT-NEXT:    call void @use(i32 [[TMP0]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@unmergable_3_proc_bind
; TUNIT-SAME: (i32 [[A:%.*]]) local_unnamed_addr {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[A_ADDR:%.*]] = alloca i32, align 4
; TUNIT-NEXT:    [[TMP0:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]])
; TUNIT-NEXT:    store i32 [[A]], i32* [[A_ADDR]], align 4
; TUNIT-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]], i32 noundef 1, void (i32*, i32*, ...)* noundef bitcast (void (i32*, i32*, i32*)* @.omp_outlined..31 to void (i32*, i32*, ...)*), i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; TUNIT-NEXT:    call void @__kmpc_push_proc_bind(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]], i32 [[TMP0]], i32 noundef 3)
; TUNIT-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]], i32 noundef 1, void (i32*, i32*, ...)* noundef bitcast (void (i32*, i32*, i32*)* @.omp_outlined..32 to void (i32*, i32*, ...)*), i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; TUNIT-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]], i32 noundef 1, void (i32*, i32*, ...)* noundef bitcast (void (i32*, i32*, i32*)* @.omp_outlined..33 to void (i32*, i32*, ...)*), i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@.omp_outlined..31
; TUNIT-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; TUNIT-NEXT:    call void @use(i32 [[TMP0]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@.omp_outlined..32
; TUNIT-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; TUNIT-NEXT:    call void @use(i32 [[TMP0]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@.omp_outlined..33
; TUNIT-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; TUNIT-NEXT:    call void @use(i32 [[TMP0]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@unmergable_3_num_threads
; TUNIT-SAME: (i32 [[A:%.*]]) local_unnamed_addr {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[A_ADDR:%.*]] = alloca i32, align 4
; TUNIT-NEXT:    [[TMP0:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]])
; TUNIT-NEXT:    store i32 [[A]], i32* [[A_ADDR]], align 4
; TUNIT-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]], i32 noundef 1, void (i32*, i32*, ...)* noundef bitcast (void (i32*, i32*, i32*)* @.omp_outlined..34 to void (i32*, i32*, ...)*), i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; TUNIT-NEXT:    [[TMP1:%.*]] = load i32, i32* [[A_ADDR]], align 4
; TUNIT-NEXT:    call void @__kmpc_push_num_threads(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]], i32 [[TMP0]], i32 [[TMP1]])
; TUNIT-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]], i32 noundef 1, void (i32*, i32*, ...)* noundef bitcast (void (i32*, i32*, i32*)* @.omp_outlined..35 to void (i32*, i32*, ...)*), i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; TUNIT-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]], i32 noundef 1, void (i32*, i32*, ...)* noundef bitcast (void (i32*, i32*, i32*)* @.omp_outlined..36 to void (i32*, i32*, ...)*), i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@.omp_outlined..34
; TUNIT-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; TUNIT-NEXT:    call void @use(i32 [[TMP0]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@.omp_outlined..35
; TUNIT-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; TUNIT-NEXT:    call void @use(i32 [[TMP0]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@.omp_outlined..36
; TUNIT-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; TUNIT-NEXT:    call void @use(i32 [[TMP0]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@merge_2_unmergable_1
; TUNIT-SAME: (i32 [[A:%.*]]) local_unnamed_addr {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[A_ADDR:%.*]] = alloca i32, align 4
; TUNIT-NEXT:    store i32 [[A]], i32* [[A_ADDR]], align 4
; TUNIT-NEXT:    [[OMP_GLOBAL_THREAD_NUM:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; TUNIT-NEXT:    br label [[OMP_PARALLEL:%.*]]
; TUNIT:       omp_parallel:
; TUNIT-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* @[[GLOB1]], i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @merge_2_unmergable_1..omp_par to void (i32*, i32*, ...)*), i32* [[A_ADDR]])
; TUNIT-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT:%.*]]
; TUNIT:       omp.par.outlined.exit:
; TUNIT-NEXT:    br label [[OMP_PAR_EXIT_SPLIT:%.*]]
; TUNIT:       omp.par.exit.split:
; TUNIT-NEXT:    br label [[ENTRY_SPLIT_SPLIT:%.*]]
; TUNIT:       entry.split.split:
; TUNIT-NEXT:    call void (...) @foo()
; TUNIT-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]], i32 noundef 1, void (i32*, i32*, ...)* noundef bitcast (void (i32*, i32*, i32*)* @.omp_outlined..39 to void (i32*, i32*, ...)*), i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@merge_2_unmergable_1..omp_par
; TUNIT-SAME: (i32* noalias [[TID_ADDR:%.*]], i32* noalias [[ZERO_ADDR:%.*]], i32* [[A_ADDR:%.*]]) #[[ATTR0]] {
; TUNIT-NEXT:  omp.par.entry:
; TUNIT-NEXT:    [[TID_ADDR_LOCAL:%.*]] = alloca i32, align 4
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[TID_ADDR]], align 4
; TUNIT-NEXT:    store i32 [[TMP0]], i32* [[TID_ADDR_LOCAL]], align 4
; TUNIT-NEXT:    [[TID:%.*]] = load i32, i32* [[TID_ADDR_LOCAL]], align 4
; TUNIT-NEXT:    br label [[OMP_PAR_REGION:%.*]]
; TUNIT:       omp.par.outlined.exit.exitStub:
; TUNIT-NEXT:    ret void
; TUNIT:       omp.par.region:
; TUNIT-NEXT:    br label [[OMP_PAR_MERGED:%.*]]
; TUNIT:       omp.par.merged:
; TUNIT-NEXT:    call void @.omp_outlined..37(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; TUNIT-NEXT:    [[OMP_GLOBAL_THREAD_NUM:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; TUNIT-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM]])
; TUNIT-NEXT:    call void @.omp_outlined..38(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; TUNIT-NEXT:    br label [[ENTRY_SPLIT:%.*]]
; TUNIT:       entry.split:
; TUNIT-NEXT:    br label [[OMP_PAR_REGION_SPLIT:%.*]]
; TUNIT:       omp.par.region.split:
; TUNIT-NEXT:    br label [[OMP_PAR_PRE_FINALIZE:%.*]]
; TUNIT:       omp.par.pre_finalize:
; TUNIT-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT_EXITSTUB:%.*]]
;
;
; TUNIT-LABEL: define {{[^@]+}}@.omp_outlined..37
; TUNIT-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; TUNIT-NEXT:    call void @use(i32 [[TMP0]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@.omp_outlined..38
; TUNIT-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; TUNIT-NEXT:    call void @use(i32 [[TMP0]])
; TUNIT-NEXT:    ret void
;
;
; TUNIT-LABEL: define {{[^@]+}}@.omp_outlined..39
; TUNIT-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; TUNIT-NEXT:  entry:
; TUNIT-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; TUNIT-NEXT:    call void @use(i32 [[TMP0]])
; TUNIT-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@merge
; CGSCC-SAME: (i32 [[A:%.*]]) local_unnamed_addr {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[A_ADDR:%.*]] = alloca i32, align 4
; CGSCC-NEXT:    store i32 [[A]], i32* [[A_ADDR]], align 4
; CGSCC-NEXT:    [[OMP_GLOBAL_THREAD_NUM:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; CGSCC-NEXT:    br label [[OMP_PARALLEL:%.*]]
; CGSCC:       omp_parallel:
; CGSCC-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* @[[GLOB1]], i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @merge..omp_par to void (i32*, i32*, ...)*), i32* [[A_ADDR]])
; CGSCC-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT:%.*]]
; CGSCC:       omp.par.outlined.exit:
; CGSCC-NEXT:    br label [[OMP_PAR_EXIT_SPLIT:%.*]]
; CGSCC:       omp.par.exit.split:
; CGSCC-NEXT:    br label [[ENTRY_SPLIT_SPLIT:%.*]]
; CGSCC:       entry.split.split:
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@merge..omp_par
; CGSCC-SAME: (i32* noalias [[TID_ADDR:%.*]], i32* noalias [[ZERO_ADDR:%.*]], i32* [[A_ADDR:%.*]]) #[[ATTR0:[0-9]+]] {
; CGSCC-NEXT:  omp.par.entry:
; CGSCC-NEXT:    [[TID_ADDR_LOCAL:%.*]] = alloca i32, align 4
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[TID_ADDR]], align 4
; CGSCC-NEXT:    store i32 [[TMP0]], i32* [[TID_ADDR_LOCAL]], align 4
; CGSCC-NEXT:    [[TID:%.*]] = load i32, i32* [[TID_ADDR_LOCAL]], align 4
; CGSCC-NEXT:    br label [[OMP_PAR_REGION:%.*]]
; CGSCC:       omp.par.outlined.exit.exitStub:
; CGSCC-NEXT:    ret void
; CGSCC:       omp.par.region:
; CGSCC-NEXT:    br label [[OMP_PAR_MERGED:%.*]]
; CGSCC:       omp.par.merged:
; CGSCC-NEXT:    call void @.omp_outlined.(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; CGSCC-NEXT:    [[OMP_GLOBAL_THREAD_NUM:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; CGSCC-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM]])
; CGSCC-NEXT:    call void @.omp_outlined..1(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; CGSCC-NEXT:    br label [[ENTRY_SPLIT:%.*]]
; CGSCC:       entry.split:
; CGSCC-NEXT:    br label [[OMP_PAR_REGION_SPLIT:%.*]]
; CGSCC:       omp.par.region.split:
; CGSCC-NEXT:    br label [[OMP_PAR_PRE_FINALIZE:%.*]]
; CGSCC:       omp.par.pre_finalize:
; CGSCC-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT_EXITSTUB:%.*]]
;
;
; CGSCC-LABEL: define {{[^@]+}}@.omp_outlined.
; CGSCC-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; CGSCC-NEXT:    call void @use(i32 [[TMP0]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@.omp_outlined..1
; CGSCC-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; CGSCC-NEXT:    call void @use(i32 [[TMP0]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@unmergable_proc_bind
; CGSCC-SAME: (i32 [[A:%.*]]) local_unnamed_addr {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[A_ADDR:%.*]] = alloca i32, align 4
; CGSCC-NEXT:    [[TMP0:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]])
; CGSCC-NEXT:    store i32 [[A]], i32* [[A_ADDR]], align 4
; CGSCC-NEXT:    call void @__kmpc_push_proc_bind(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]], i32 [[TMP0]], i32 noundef 3)
; CGSCC-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]], i32 noundef 1, void (i32*, i32*, ...)* noundef bitcast (void (i32*, i32*, i32*)* @.omp_outlined..2 to void (i32*, i32*, ...)*), i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; CGSCC-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]], i32 noundef 1, void (i32*, i32*, ...)* noundef bitcast (void (i32*, i32*, i32*)* @.omp_outlined..3 to void (i32*, i32*, ...)*), i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@.omp_outlined..2
; CGSCC-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; CGSCC-NEXT:    call void @use(i32 [[TMP0]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@.omp_outlined..3
; CGSCC-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; CGSCC-NEXT:    call void @use(i32 [[TMP0]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@unmergable_num_threads
; CGSCC-SAME: (i32 [[A:%.*]]) local_unnamed_addr {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[A_ADDR:%.*]] = alloca i32, align 4
; CGSCC-NEXT:    [[TMP0:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]])
; CGSCC-NEXT:    store i32 [[A]], i32* [[A_ADDR]], align 4
; CGSCC-NEXT:    call void @__kmpc_push_num_threads(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]], i32 [[TMP0]], i32 [[A]])
; CGSCC-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]], i32 noundef 1, void (i32*, i32*, ...)* noundef bitcast (void (i32*, i32*, i32*)* @.omp_outlined..4 to void (i32*, i32*, ...)*), i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; CGSCC-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]], i32 noundef 1, void (i32*, i32*, ...)* noundef bitcast (void (i32*, i32*, i32*)* @.omp_outlined..5 to void (i32*, i32*, ...)*), i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@.omp_outlined..4
; CGSCC-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; CGSCC-NEXT:    call void @use(i32 [[TMP0]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@.omp_outlined..5
; CGSCC-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; CGSCC-NEXT:    call void @use(i32 [[TMP0]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@unmergable_seq_call
; CGSCC-SAME: (i32 [[A:%.*]]) local_unnamed_addr {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[A_ADDR:%.*]] = alloca i32, align 4
; CGSCC-NEXT:    store i32 [[A]], i32* [[A_ADDR]], align 4
; CGSCC-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]], i32 noundef 1, void (i32*, i32*, ...)* noundef bitcast (void (i32*, i32*, i32*)* @.omp_outlined..6 to void (i32*, i32*, ...)*), i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; CGSCC-NEXT:    call void (...) @foo()
; CGSCC-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]], i32 noundef 1, void (i32*, i32*, ...)* noundef bitcast (void (i32*, i32*, i32*)* @.omp_outlined..7 to void (i32*, i32*, ...)*), i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@.omp_outlined..6
; CGSCC-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; CGSCC-NEXT:    call void @use(i32 [[TMP0]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@.omp_outlined..7
; CGSCC-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; CGSCC-NEXT:    call void @use(i32 [[TMP0]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@merge_seq
; CGSCC-SAME: (i32 [[A:%.*]]) local_unnamed_addr {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[A_ADDR:%.*]] = alloca i32, align 4
; CGSCC-NEXT:    store i32 [[A]], i32* [[A_ADDR]], align 4
; CGSCC-NEXT:    [[OMP_GLOBAL_THREAD_NUM2:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; CGSCC-NEXT:    br label [[OMP_PARALLEL:%.*]]
; CGSCC:       omp_parallel:
; CGSCC-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* @[[GLOB1]], i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @merge_seq..omp_par to void (i32*, i32*, ...)*), i32* [[A_ADDR]])
; CGSCC-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT:%.*]]
; CGSCC:       omp.par.outlined.exit:
; CGSCC-NEXT:    br label [[OMP_PAR_EXIT_SPLIT:%.*]]
; CGSCC:       omp.par.exit.split:
; CGSCC-NEXT:    br label [[ENTRY_SPLIT_SPLIT:%.*]]
; CGSCC:       entry.split.split:
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A_ADDR]], align 4
; CGSCC-NEXT:    call void @use(i32 [[TMP0]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@merge_seq..omp_par
; CGSCC-SAME: (i32* noalias [[TID_ADDR:%.*]], i32* noalias [[ZERO_ADDR:%.*]], i32* [[A_ADDR:%.*]]) #[[ATTR0]] {
; CGSCC-NEXT:  omp.par.entry:
; CGSCC-NEXT:    [[TID_ADDR_LOCAL:%.*]] = alloca i32, align 4
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[TID_ADDR]], align 4
; CGSCC-NEXT:    store i32 [[TMP0]], i32* [[TID_ADDR_LOCAL]], align 4
; CGSCC-NEXT:    [[TID:%.*]] = load i32, i32* [[TID_ADDR_LOCAL]], align 4
; CGSCC-NEXT:    br label [[OMP_PAR_REGION:%.*]]
; CGSCC:       omp.par.outlined.exit.exitStub:
; CGSCC-NEXT:    ret void
; CGSCC:       omp.par.region:
; CGSCC-NEXT:    br label [[OMP_PAR_MERGED:%.*]]
; CGSCC:       omp.par.merged:
; CGSCC-NEXT:    call void @.omp_outlined..8(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; CGSCC-NEXT:    [[OMP_GLOBAL_THREAD_NUM2:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; CGSCC-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM2]])
; CGSCC-NEXT:    [[OMP_GLOBAL_THREAD_NUM:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; CGSCC-NEXT:    [[TMP1:%.*]] = call i32 @__kmpc_master(%struct.ident_t* @[[GLOB1]], i32 [[OMP_GLOBAL_THREAD_NUM]])
; CGSCC-NEXT:    [[TMP2:%.*]] = icmp ne i32 [[TMP1]], 0
; CGSCC-NEXT:    br i1 [[TMP2]], label [[OMP_REGION_BODY:%.*]], label [[OMP_REGION_END:%.*]]
; CGSCC:       omp_region.end:
; CGSCC-NEXT:    [[OMP_GLOBAL_THREAD_NUM1:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; CGSCC-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM1]])
; CGSCC-NEXT:    br label [[OMP_PAR_MERGED_SPLIT_SPLIT:%.*]]
; CGSCC:       omp.par.merged.split.split:
; CGSCC-NEXT:    call void @.omp_outlined..9(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; CGSCC-NEXT:    br label [[ENTRY_SPLIT:%.*]]
; CGSCC:       entry.split:
; CGSCC-NEXT:    br label [[OMP_PAR_REGION_SPLIT:%.*]]
; CGSCC:       omp.par.region.split:
; CGSCC-NEXT:    br label [[OMP_PAR_PRE_FINALIZE:%.*]]
; CGSCC:       omp.par.pre_finalize:
; CGSCC-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT_EXITSTUB:%.*]]
; CGSCC:       omp_region.body:
; CGSCC-NEXT:    br label [[SEQ_PAR_MERGED:%.*]]
; CGSCC:       seq.par.merged:
; CGSCC-NEXT:    [[TMP3:%.*]] = load i32, i32* [[A_ADDR]], align 4
; CGSCC-NEXT:    [[ADD:%.*]] = add nsw i32 [[TMP3]], 1
; CGSCC-NEXT:    store i32 [[ADD]], i32* [[A_ADDR]], align 4
; CGSCC-NEXT:    br label [[OMP_PAR_MERGED_SPLIT:%.*]]
; CGSCC:       omp.par.merged.split:
; CGSCC-NEXT:    br label [[OMP_REGION_BODY_SPLIT:%.*]]
; CGSCC:       omp_region.body.split:
; CGSCC-NEXT:    call void @__kmpc_end_master(%struct.ident_t* @[[GLOB1]], i32 [[OMP_GLOBAL_THREAD_NUM]])
; CGSCC-NEXT:    br label [[OMP_REGION_END]]
;
;
; CGSCC-LABEL: define {{[^@]+}}@.omp_outlined..8
; CGSCC-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; CGSCC-NEXT:    call void @use(i32 [[TMP0]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@.omp_outlined..9
; CGSCC-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; CGSCC-NEXT:    call void @use(i32 [[TMP0]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@merge_seq_float
; CGSCC-SAME: (float [[F:%.*]], float* nocapture writeonly [[P:%.*]]) local_unnamed_addr {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[F_ADDR:%.*]] = alloca float, align 4
; CGSCC-NEXT:    store float [[F]], float* [[F_ADDR]], align 4
; CGSCC-NEXT:    [[OMP_GLOBAL_THREAD_NUM2:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; CGSCC-NEXT:    br label [[OMP_PARALLEL:%.*]]
; CGSCC:       omp_parallel:
; CGSCC-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* @[[GLOB1]], i32 2, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, float*, float*)* @merge_seq_float..omp_par to void (i32*, i32*, ...)*), float* [[F_ADDR]], float* [[P]])
; CGSCC-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT:%.*]]
; CGSCC:       omp.par.outlined.exit:
; CGSCC-NEXT:    br label [[OMP_PAR_EXIT_SPLIT:%.*]]
; CGSCC:       omp.par.exit.split:
; CGSCC-NEXT:    br label [[ENTRY_SPLIT_SPLIT:%.*]]
; CGSCC:       entry.split.split:
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@merge_seq_float..omp_par
; CGSCC-SAME: (i32* noalias [[TID_ADDR:%.*]], i32* noalias [[ZERO_ADDR:%.*]], float* [[F_ADDR:%.*]], float* [[P:%.*]]) #[[ATTR0]] {
; CGSCC-NEXT:  omp.par.entry:
; CGSCC-NEXT:    [[TID_ADDR_LOCAL:%.*]] = alloca i32, align 4
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[TID_ADDR]], align 4
; CGSCC-NEXT:    store i32 [[TMP0]], i32* [[TID_ADDR_LOCAL]], align 4
; CGSCC-NEXT:    [[TID:%.*]] = load i32, i32* [[TID_ADDR_LOCAL]], align 4
; CGSCC-NEXT:    br label [[OMP_PAR_REGION:%.*]]
; CGSCC:       omp.par.outlined.exit.exitStub:
; CGSCC-NEXT:    ret void
; CGSCC:       omp.par.region:
; CGSCC-NEXT:    br label [[OMP_PAR_MERGED:%.*]]
; CGSCC:       omp.par.merged:
; CGSCC-NEXT:    call void @.omp_outlined..10(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], float* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[F_ADDR]])
; CGSCC-NEXT:    [[OMP_GLOBAL_THREAD_NUM2:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; CGSCC-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM2]])
; CGSCC-NEXT:    [[OMP_GLOBAL_THREAD_NUM:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; CGSCC-NEXT:    [[TMP1:%.*]] = call i32 @__kmpc_master(%struct.ident_t* @[[GLOB1]], i32 [[OMP_GLOBAL_THREAD_NUM]])
; CGSCC-NEXT:    [[TMP2:%.*]] = icmp ne i32 [[TMP1]], 0
; CGSCC-NEXT:    br i1 [[TMP2]], label [[OMP_REGION_BODY:%.*]], label [[OMP_REGION_END:%.*]]
; CGSCC:       omp_region.end:
; CGSCC-NEXT:    [[OMP_GLOBAL_THREAD_NUM1:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; CGSCC-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM1]])
; CGSCC-NEXT:    br label [[OMP_PAR_MERGED_SPLIT_SPLIT:%.*]]
; CGSCC:       omp.par.merged.split.split:
; CGSCC-NEXT:    call void @.omp_outlined..11(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], float* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[F_ADDR]])
; CGSCC-NEXT:    br label [[ENTRY_SPLIT:%.*]]
; CGSCC:       entry.split:
; CGSCC-NEXT:    br label [[OMP_PAR_REGION_SPLIT:%.*]]
; CGSCC:       omp.par.region.split:
; CGSCC-NEXT:    br label [[OMP_PAR_PRE_FINALIZE:%.*]]
; CGSCC:       omp.par.pre_finalize:
; CGSCC-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT_EXITSTUB:%.*]]
; CGSCC:       omp_region.body:
; CGSCC-NEXT:    br label [[SEQ_PAR_MERGED:%.*]]
; CGSCC:       seq.par.merged:
; CGSCC-NEXT:    [[TMP3:%.*]] = load float, float* [[F_ADDR]], align 4
; CGSCC-NEXT:    [[ADD:%.*]] = fadd float [[TMP3]], 0x40091EB860000000
; CGSCC-NEXT:    store float [[ADD]], float* [[P]], align 4
; CGSCC-NEXT:    br label [[OMP_PAR_MERGED_SPLIT:%.*]]
; CGSCC:       omp.par.merged.split:
; CGSCC-NEXT:    br label [[OMP_REGION_BODY_SPLIT:%.*]]
; CGSCC:       omp_region.body.split:
; CGSCC-NEXT:    call void @__kmpc_end_master(%struct.ident_t* @[[GLOB1]], i32 [[OMP_GLOBAL_THREAD_NUM]])
; CGSCC-NEXT:    br label [[OMP_REGION_END]]
;
;
; CGSCC-LABEL: define {{[^@]+}}@.omp_outlined..10
; CGSCC-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], float* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[F:%.*]]) {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[TMP0:%.*]] = load float, float* [[F]], align 4
; CGSCC-NEXT:    [[CONV:%.*]] = fptosi float [[TMP0]] to i32
; CGSCC-NEXT:    call void @use(i32 [[CONV]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@.omp_outlined..11
; CGSCC-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], float* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[F:%.*]]) {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[TMP0:%.*]] = load float, float* [[F]], align 4
; CGSCC-NEXT:    [[CONV:%.*]] = fptosi float [[TMP0]] to i32
; CGSCC-NEXT:    call void @use(i32 [[CONV]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@merge_seq_firstprivate
; CGSCC-SAME: (i32 [[A:%.*]]) local_unnamed_addr {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[A_CASTED_SROA_0_0_INSERT_EXT_SEQ_OUTPUT_ALLOC:%.*]] = alloca i64, align 8
; CGSCC-NEXT:    [[A_ADDR:%.*]] = alloca i32, align 4
; CGSCC-NEXT:    store i32 [[A]], i32* [[A_ADDR]], align 4
; CGSCC-NEXT:    [[OMP_GLOBAL_THREAD_NUM2:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; CGSCC-NEXT:    br label [[OMP_PARALLEL:%.*]]
; CGSCC:       omp_parallel:
; CGSCC-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* @[[GLOB1]], i32 2, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*, i64*)* @merge_seq_firstprivate..omp_par to void (i32*, i32*, ...)*), i32* [[A_ADDR]], i64* [[A_CASTED_SROA_0_0_INSERT_EXT_SEQ_OUTPUT_ALLOC]])
; CGSCC-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT:%.*]]
; CGSCC:       omp.par.outlined.exit:
; CGSCC-NEXT:    br label [[OMP_PAR_EXIT_SPLIT:%.*]]
; CGSCC:       omp.par.exit.split:
; CGSCC-NEXT:    br label [[ENTRY_SPLIT_SPLIT:%.*]]
; CGSCC:       entry.split.split:
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A_ADDR]], align 4
; CGSCC-NEXT:    call void @use(i32 [[TMP0]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@merge_seq_firstprivate..omp_par
; CGSCC-SAME: (i32* noalias [[TID_ADDR:%.*]], i32* noalias [[ZERO_ADDR:%.*]], i32* [[A_ADDR:%.*]], i64* [[A_CASTED_SROA_0_0_INSERT_EXT_SEQ_OUTPUT_ALLOC:%.*]]) #[[ATTR0]] {
; CGSCC-NEXT:  omp.par.entry:
; CGSCC-NEXT:    [[TID_ADDR_LOCAL:%.*]] = alloca i32, align 4
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[TID_ADDR]], align 4
; CGSCC-NEXT:    store i32 [[TMP0]], i32* [[TID_ADDR_LOCAL]], align 4
; CGSCC-NEXT:    [[TID:%.*]] = load i32, i32* [[TID_ADDR_LOCAL]], align 4
; CGSCC-NEXT:    br label [[OMP_PAR_REGION:%.*]]
; CGSCC:       omp.par.outlined.exit.exitStub:
; CGSCC-NEXT:    ret void
; CGSCC:       omp.par.region:
; CGSCC-NEXT:    br label [[OMP_PAR_MERGED:%.*]]
; CGSCC:       omp.par.merged:
; CGSCC-NEXT:    call void @.omp_outlined..12(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; CGSCC-NEXT:    [[OMP_GLOBAL_THREAD_NUM2:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; CGSCC-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM2]])
; CGSCC-NEXT:    [[OMP_GLOBAL_THREAD_NUM:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; CGSCC-NEXT:    [[TMP1:%.*]] = call i32 @__kmpc_master(%struct.ident_t* @[[GLOB1]], i32 [[OMP_GLOBAL_THREAD_NUM]])
; CGSCC-NEXT:    [[TMP2:%.*]] = icmp ne i32 [[TMP1]], 0
; CGSCC-NEXT:    br i1 [[TMP2]], label [[OMP_REGION_BODY:%.*]], label [[OMP_REGION_END:%.*]]
; CGSCC:       omp_region.end:
; CGSCC-NEXT:    [[OMP_GLOBAL_THREAD_NUM1:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; CGSCC-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM1]])
; CGSCC-NEXT:    br label [[OMP_PAR_MERGED_SPLIT_SPLIT:%.*]]
; CGSCC:       omp.par.merged.split.split:
; CGSCC-NEXT:    [[A_CASTED_SROA_0_0_INSERT_EXT_SEQ_OUTPUT_LOAD:%.*]] = load i64, i64* [[A_CASTED_SROA_0_0_INSERT_EXT_SEQ_OUTPUT_ALLOC]], align 8
; CGSCC-NEXT:    call void @.omp_outlined..13(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i64 [[A_CASTED_SROA_0_0_INSERT_EXT_SEQ_OUTPUT_LOAD]])
; CGSCC-NEXT:    br label [[ENTRY_SPLIT:%.*]]
; CGSCC:       entry.split:
; CGSCC-NEXT:    br label [[OMP_PAR_REGION_SPLIT:%.*]]
; CGSCC:       omp.par.region.split:
; CGSCC-NEXT:    br label [[OMP_PAR_PRE_FINALIZE:%.*]]
; CGSCC:       omp.par.pre_finalize:
; CGSCC-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT_EXITSTUB:%.*]]
; CGSCC:       omp_region.body:
; CGSCC-NEXT:    br label [[SEQ_PAR_MERGED:%.*]]
; CGSCC:       seq.par.merged:
; CGSCC-NEXT:    [[TMP3:%.*]] = load i32, i32* [[A_ADDR]], align 4
; CGSCC-NEXT:    [[ADD:%.*]] = add nsw i32 [[TMP3]], 1
; CGSCC-NEXT:    store i32 [[ADD]], i32* [[A_ADDR]], align 4
; CGSCC-NEXT:    [[A_CASTED_SROA_0_0_INSERT_EXT:%.*]] = zext i32 [[ADD]] to i64
; CGSCC-NEXT:    store i64 [[A_CASTED_SROA_0_0_INSERT_EXT]], i64* [[A_CASTED_SROA_0_0_INSERT_EXT_SEQ_OUTPUT_ALLOC]], align 8
; CGSCC-NEXT:    br label [[OMP_PAR_MERGED_SPLIT:%.*]]
; CGSCC:       omp.par.merged.split:
; CGSCC-NEXT:    br label [[OMP_REGION_BODY_SPLIT:%.*]]
; CGSCC:       omp_region.body.split:
; CGSCC-NEXT:    call void @__kmpc_end_master(%struct.ident_t* @[[GLOB1]], i32 [[OMP_GLOBAL_THREAD_NUM]])
; CGSCC-NEXT:    br label [[OMP_REGION_END]]
;
;
; CGSCC-LABEL: define {{[^@]+}}@.omp_outlined..12
; CGSCC-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; CGSCC-NEXT:    call void @use(i32 [[TMP0]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@.omp_outlined..13
; CGSCC-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i64 [[A:%.*]]) {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[A_ADDR_SROA_0_0_EXTRACT_TRUNC:%.*]] = trunc i64 [[A]] to i32
; CGSCC-NEXT:    call void @use(i32 [[A_ADDR_SROA_0_0_EXTRACT_TRUNC]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@merge_seq_sink_lt
; CGSCC-SAME: (i32 [[A:%.*]]) local_unnamed_addr {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[A_ADDR:%.*]] = alloca i32, align 4
; CGSCC-NEXT:    store i32 [[A]], i32* [[A_ADDR]], align 4
; CGSCC-NEXT:    [[OMP_GLOBAL_THREAD_NUM2:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; CGSCC-NEXT:    br label [[OMP_PARALLEL:%.*]]
; CGSCC:       omp_parallel:
; CGSCC-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* @[[GLOB1]], i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @merge_seq_sink_lt..omp_par to void (i32*, i32*, ...)*), i32* [[A_ADDR]])
; CGSCC-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT:%.*]]
; CGSCC:       omp.par.outlined.exit:
; CGSCC-NEXT:    br label [[OMP_PAR_EXIT_SPLIT:%.*]]
; CGSCC:       omp.par.exit.split:
; CGSCC-NEXT:    br label [[ENTRY_SPLIT_SPLIT:%.*]]
; CGSCC:       entry.split.split:
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@merge_seq_sink_lt..omp_par
; CGSCC-SAME: (i32* noalias [[TID_ADDR:%.*]], i32* noalias [[ZERO_ADDR:%.*]], i32* [[A_ADDR:%.*]]) #[[ATTR0]] {
; CGSCC-NEXT:  omp.par.entry:
; CGSCC-NEXT:    [[B:%.*]] = alloca i32, align 4
; CGSCC-NEXT:    [[TID_ADDR_LOCAL:%.*]] = alloca i32, align 4
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[TID_ADDR]], align 4
; CGSCC-NEXT:    store i32 [[TMP0]], i32* [[TID_ADDR_LOCAL]], align 4
; CGSCC-NEXT:    [[TID:%.*]] = load i32, i32* [[TID_ADDR_LOCAL]], align 4
; CGSCC-NEXT:    br label [[OMP_PAR_REGION:%.*]]
; CGSCC:       omp.par.outlined.exit.exitStub:
; CGSCC-NEXT:    ret void
; CGSCC:       omp.par.region:
; CGSCC-NEXT:    br label [[OMP_PAR_MERGED:%.*]]
; CGSCC:       omp.par.merged:
; CGSCC-NEXT:    call void @.omp_outlined..14(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; CGSCC-NEXT:    [[OMP_GLOBAL_THREAD_NUM2:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; CGSCC-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM2]])
; CGSCC-NEXT:    [[OMP_GLOBAL_THREAD_NUM:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; CGSCC-NEXT:    [[TMP1:%.*]] = call i32 @__kmpc_master(%struct.ident_t* @[[GLOB1]], i32 [[OMP_GLOBAL_THREAD_NUM]])
; CGSCC-NEXT:    [[TMP2:%.*]] = icmp ne i32 [[TMP1]], 0
; CGSCC-NEXT:    br i1 [[TMP2]], label [[OMP_REGION_BODY:%.*]], label [[OMP_REGION_END:%.*]]
; CGSCC:       omp_region.end:
; CGSCC-NEXT:    [[OMP_GLOBAL_THREAD_NUM1:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; CGSCC-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM1]])
; CGSCC-NEXT:    br label [[OMP_PAR_MERGED_SPLIT_SPLIT:%.*]]
; CGSCC:       omp.par.merged.split.split:
; CGSCC-NEXT:    call void @.omp_outlined..15(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; CGSCC-NEXT:    br label [[ENTRY_SPLIT:%.*]]
; CGSCC:       entry.split:
; CGSCC-NEXT:    br label [[OMP_PAR_REGION_SPLIT:%.*]]
; CGSCC:       omp.par.region.split:
; CGSCC-NEXT:    br label [[OMP_PAR_PRE_FINALIZE:%.*]]
; CGSCC:       omp.par.pre_finalize:
; CGSCC-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT_EXITSTUB:%.*]]
; CGSCC:       omp_region.body:
; CGSCC-NEXT:    br label [[SEQ_PAR_MERGED:%.*]]
; CGSCC:       seq.par.merged:
; CGSCC-NEXT:    [[TMP3:%.*]] = bitcast i32* [[B]] to i8*
; CGSCC-NEXT:    call void @llvm.lifetime.start.p0i8(i64 noundef 4, i8* noundef nonnull [[TMP3]])
; CGSCC-NEXT:    [[TMP4:%.*]] = ptrtoint i32* [[B]] to i64
; CGSCC-NEXT:    [[TMP5:%.*]] = trunc i64 [[TMP4]] to i32
; CGSCC-NEXT:    store i32 [[TMP5]], i32* [[B]], align 4
; CGSCC-NEXT:    call void @llvm.lifetime.end.p0i8(i64 noundef 4, i8* noundef nonnull [[TMP3]])
; CGSCC-NEXT:    br label [[OMP_PAR_MERGED_SPLIT:%.*]]
; CGSCC:       omp.par.merged.split:
; CGSCC-NEXT:    br label [[OMP_REGION_BODY_SPLIT:%.*]]
; CGSCC:       omp_region.body.split:
; CGSCC-NEXT:    call void @__kmpc_end_master(%struct.ident_t* @[[GLOB1]], i32 [[OMP_GLOBAL_THREAD_NUM]])
; CGSCC-NEXT:    br label [[OMP_REGION_END]]
;
;
; CGSCC-LABEL: define {{[^@]+}}@.omp_outlined..14
; CGSCC-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; CGSCC-NEXT:    call void @use(i32 [[TMP0]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@.omp_outlined..15
; CGSCC-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; CGSCC-NEXT:    call void @use(i32 [[TMP0]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@merge_seq_par_use
; CGSCC-SAME: (i32 [[A:%.*]]) local_unnamed_addr {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[A_ADDR:%.*]] = alloca i32, align 4
; CGSCC-NEXT:    [[B:%.*]] = alloca i32, align 4
; CGSCC-NEXT:    store i32 [[A]], i32* [[A_ADDR]], align 4
; CGSCC-NEXT:    [[OMP_GLOBAL_THREAD_NUM2:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; CGSCC-NEXT:    br label [[OMP_PARALLEL:%.*]]
; CGSCC:       omp_parallel:
; CGSCC-NEXT:    [[LT_CAST3:%.*]] = bitcast i32* [[B]] to i8*
; CGSCC-NEXT:    call void @llvm.lifetime.start.p0i8(i64 -1, i8* [[LT_CAST3]])
; CGSCC-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* @[[GLOB1]], i32 2, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*, i32*)* @merge_seq_par_use..omp_par to void (i32*, i32*, ...)*), i32* [[A_ADDR]], i32* [[B]])
; CGSCC-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT:%.*]]
; CGSCC:       omp.par.outlined.exit:
; CGSCC-NEXT:    br label [[OMP_PAR_EXIT_SPLIT:%.*]]
; CGSCC:       omp.par.exit.split:
; CGSCC-NEXT:    br label [[ENTRY_SPLIT_SPLIT:%.*]]
; CGSCC:       entry.split.split:
; CGSCC-NEXT:    [[LT_CAST:%.*]] = bitcast i32* [[B]] to i8*
; CGSCC-NEXT:    call void @llvm.lifetime.end.p0i8(i64 noundef 4, i8* noundef nonnull [[LT_CAST]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@merge_seq_par_use..omp_par
; CGSCC-SAME: (i32* noalias [[TID_ADDR:%.*]], i32* noalias [[ZERO_ADDR:%.*]], i32* [[A_ADDR:%.*]], i32* [[B:%.*]]) #[[ATTR0]] {
; CGSCC-NEXT:  omp.par.entry:
; CGSCC-NEXT:    [[TID_ADDR_LOCAL:%.*]] = alloca i32, align 4
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[TID_ADDR]], align 4
; CGSCC-NEXT:    store i32 [[TMP0]], i32* [[TID_ADDR_LOCAL]], align 4
; CGSCC-NEXT:    [[TID:%.*]] = load i32, i32* [[TID_ADDR_LOCAL]], align 4
; CGSCC-NEXT:    br label [[OMP_PAR_REGION:%.*]]
; CGSCC:       omp.par.outlined.exit.exitStub:
; CGSCC-NEXT:    ret void
; CGSCC:       omp.par.region:
; CGSCC-NEXT:    br label [[OMP_PAR_MERGED:%.*]]
; CGSCC:       omp.par.merged:
; CGSCC-NEXT:    call void @.omp_outlined..16(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; CGSCC-NEXT:    [[OMP_GLOBAL_THREAD_NUM2:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; CGSCC-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM2]])
; CGSCC-NEXT:    [[OMP_GLOBAL_THREAD_NUM:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; CGSCC-NEXT:    [[TMP1:%.*]] = call i32 @__kmpc_master(%struct.ident_t* @[[GLOB1]], i32 [[OMP_GLOBAL_THREAD_NUM]])
; CGSCC-NEXT:    [[TMP2:%.*]] = icmp ne i32 [[TMP1]], 0
; CGSCC-NEXT:    br i1 [[TMP2]], label [[OMP_REGION_BODY:%.*]], label [[OMP_REGION_END:%.*]]
; CGSCC:       omp_region.end:
; CGSCC-NEXT:    [[OMP_GLOBAL_THREAD_NUM1:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; CGSCC-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM1]])
; CGSCC-NEXT:    br label [[OMP_PAR_MERGED_SPLIT_SPLIT:%.*]]
; CGSCC:       omp.par.merged.split.split:
; CGSCC-NEXT:    call void @.omp_outlined..17(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[B]])
; CGSCC-NEXT:    br label [[ENTRY_SPLIT:%.*]]
; CGSCC:       entry.split:
; CGSCC-NEXT:    br label [[OMP_PAR_REGION_SPLIT:%.*]]
; CGSCC:       omp.par.region.split:
; CGSCC-NEXT:    br label [[OMP_PAR_PRE_FINALIZE:%.*]]
; CGSCC:       omp.par.pre_finalize:
; CGSCC-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT_EXITSTUB:%.*]]
; CGSCC:       omp_region.body:
; CGSCC-NEXT:    br label [[SEQ_PAR_MERGED:%.*]]
; CGSCC:       seq.par.merged:
; CGSCC-NEXT:    [[TMP3:%.*]] = bitcast i32* [[B]] to i8*
; CGSCC-NEXT:    [[TMP4:%.*]] = load i32, i32* [[A_ADDR]], align 4
; CGSCC-NEXT:    [[ADD:%.*]] = add nsw i32 [[TMP4]], 1
; CGSCC-NEXT:    store i32 [[ADD]], i32* [[B]], align 4
; CGSCC-NEXT:    br label [[OMP_PAR_MERGED_SPLIT:%.*]]
; CGSCC:       omp.par.merged.split:
; CGSCC-NEXT:    br label [[OMP_REGION_BODY_SPLIT:%.*]]
; CGSCC:       omp_region.body.split:
; CGSCC-NEXT:    call void @__kmpc_end_master(%struct.ident_t* @[[GLOB1]], i32 [[OMP_GLOBAL_THREAD_NUM]])
; CGSCC-NEXT:    br label [[OMP_REGION_END]]
;
;
; CGSCC-LABEL: define {{[^@]+}}@.omp_outlined..16
; CGSCC-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; CGSCC-NEXT:    call void @use(i32 [[TMP0]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@.omp_outlined..17
; CGSCC-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[B:%.*]]) {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; CGSCC-NEXT:    call void @use(i32 [[TMP0]])
; CGSCC-NEXT:    [[TMP1:%.*]] = load i32, i32* [[B]], align 4
; CGSCC-NEXT:    call void @use(i32 [[TMP1]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@merge_cancellable_regions
; CGSCC-SAME: (i32 [[CANCEL1:%.*]], i32 [[CANCEL2:%.*]]) local_unnamed_addr {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[CANCEL1_ADDR:%.*]] = alloca i32, align 4
; CGSCC-NEXT:    [[CANCEL2_ADDR:%.*]] = alloca i32, align 4
; CGSCC-NEXT:    store i32 [[CANCEL1]], i32* [[CANCEL1_ADDR]], align 4
; CGSCC-NEXT:    store i32 [[CANCEL2]], i32* [[CANCEL2_ADDR]], align 4
; CGSCC-NEXT:    [[OMP_GLOBAL_THREAD_NUM:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; CGSCC-NEXT:    br label [[OMP_PARALLEL:%.*]]
; CGSCC:       omp_parallel:
; CGSCC-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* @[[GLOB1]], i32 2, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*, i32*)* @merge_cancellable_regions..omp_par to void (i32*, i32*, ...)*), i32* [[CANCEL1_ADDR]], i32* [[CANCEL2_ADDR]])
; CGSCC-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT:%.*]]
; CGSCC:       omp.par.outlined.exit:
; CGSCC-NEXT:    br label [[OMP_PAR_EXIT_SPLIT:%.*]]
; CGSCC:       omp.par.exit.split:
; CGSCC-NEXT:    br label [[ENTRY_SPLIT_SPLIT:%.*]]
; CGSCC:       entry.split.split:
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@merge_cancellable_regions..omp_par
; CGSCC-SAME: (i32* noalias [[TID_ADDR:%.*]], i32* noalias [[ZERO_ADDR:%.*]], i32* [[CANCEL1_ADDR:%.*]], i32* [[CANCEL2_ADDR:%.*]]) #[[ATTR0]] {
; CGSCC-NEXT:  omp.par.entry:
; CGSCC-NEXT:    [[TID_ADDR_LOCAL:%.*]] = alloca i32, align 4
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[TID_ADDR]], align 4
; CGSCC-NEXT:    store i32 [[TMP0]], i32* [[TID_ADDR_LOCAL]], align 4
; CGSCC-NEXT:    [[TID:%.*]] = load i32, i32* [[TID_ADDR_LOCAL]], align 4
; CGSCC-NEXT:    br label [[OMP_PAR_REGION:%.*]]
; CGSCC:       omp.par.outlined.exit.exitStub:
; CGSCC-NEXT:    ret void
; CGSCC:       omp.par.region:
; CGSCC-NEXT:    br label [[OMP_PAR_MERGED:%.*]]
; CGSCC:       omp.par.merged:
; CGSCC-NEXT:    call void @.omp_outlined..18(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[CANCEL1_ADDR]])
; CGSCC-NEXT:    [[OMP_GLOBAL_THREAD_NUM:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; CGSCC-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM]])
; CGSCC-NEXT:    call void @.omp_outlined..19(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[CANCEL2_ADDR]])
; CGSCC-NEXT:    br label [[ENTRY_SPLIT:%.*]]
; CGSCC:       entry.split:
; CGSCC-NEXT:    br label [[OMP_PAR_REGION_SPLIT:%.*]]
; CGSCC:       omp.par.region.split:
; CGSCC-NEXT:    br label [[OMP_PAR_PRE_FINALIZE:%.*]]
; CGSCC:       omp.par.pre_finalize:
; CGSCC-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT_EXITSTUB:%.*]]
;
;
; CGSCC-LABEL: define {{[^@]+}}@.omp_outlined..18
; CGSCC-SAME: (i32* noalias nocapture readonly [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[CANCEL1:%.*]]) {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[CANCEL1]], align 4
; CGSCC-NEXT:    [[TOBOOL_NOT:%.*]] = icmp eq i32 [[TMP0]], 0
; CGSCC-NEXT:    br i1 [[TOBOOL_NOT]], label [[IF_END:%.*]], label [[IF_THEN:%.*]]
; CGSCC:       if.then:
; CGSCC-NEXT:    [[TMP1:%.*]] = load i32, i32* [[DOTGLOBAL_TID_]], align 4
; CGSCC-NEXT:    [[TMP2:%.*]] = call i32 @__kmpc_cancel(%struct.ident_t* noundef nonnull @[[GLOB1]], i32 [[TMP1]], i32 noundef 1)
; CGSCC-NEXT:    ret void
; CGSCC:       if.end:
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@.omp_outlined..19
; CGSCC-SAME: (i32* noalias nocapture readonly [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[CANCEL2:%.*]]) {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[CANCEL2]], align 4
; CGSCC-NEXT:    [[TOBOOL_NOT:%.*]] = icmp eq i32 [[TMP0]], 0
; CGSCC-NEXT:    br i1 [[TOBOOL_NOT]], label [[IF_END:%.*]], label [[IF_THEN:%.*]]
; CGSCC:       if.then:
; CGSCC-NEXT:    [[TMP1:%.*]] = load i32, i32* [[DOTGLOBAL_TID_]], align 4
; CGSCC-NEXT:    [[TMP2:%.*]] = call i32 @__kmpc_cancel(%struct.ident_t* noundef nonnull @[[GLOB1]], i32 [[TMP1]], i32 noundef 1)
; CGSCC-NEXT:    ret void
; CGSCC:       if.end:
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@merge_cancellable_regions_seq
; CGSCC-SAME: (i32 [[CANCEL1:%.*]], i32 [[CANCEL2:%.*]]) local_unnamed_addr {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[CANCEL1_ADDR:%.*]] = alloca i32, align 4
; CGSCC-NEXT:    [[CANCEL2_ADDR:%.*]] = alloca i32, align 4
; CGSCC-NEXT:    store i32 [[CANCEL1]], i32* [[CANCEL1_ADDR]], align 4
; CGSCC-NEXT:    store i32 [[CANCEL2]], i32* [[CANCEL2_ADDR]], align 4
; CGSCC-NEXT:    [[OMP_GLOBAL_THREAD_NUM2:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; CGSCC-NEXT:    br label [[OMP_PARALLEL:%.*]]
; CGSCC:       omp_parallel:
; CGSCC-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* @[[GLOB1]], i32 2, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*, i32*)* @merge_cancellable_regions_seq..omp_par to void (i32*, i32*, ...)*), i32* [[CANCEL1_ADDR]], i32* [[CANCEL2_ADDR]])
; CGSCC-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT:%.*]]
; CGSCC:       omp.par.outlined.exit:
; CGSCC-NEXT:    br label [[OMP_PAR_EXIT_SPLIT:%.*]]
; CGSCC:       omp.par.exit.split:
; CGSCC-NEXT:    br label [[ENTRY_SPLIT_SPLIT:%.*]]
; CGSCC:       entry.split.split:
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@merge_cancellable_regions_seq..omp_par
; CGSCC-SAME: (i32* noalias [[TID_ADDR:%.*]], i32* noalias [[ZERO_ADDR:%.*]], i32* [[CANCEL1_ADDR:%.*]], i32* [[CANCEL2_ADDR:%.*]]) #[[ATTR0]] {
; CGSCC-NEXT:  omp.par.entry:
; CGSCC-NEXT:    [[TID_ADDR_LOCAL:%.*]] = alloca i32, align 4
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[TID_ADDR]], align 4
; CGSCC-NEXT:    store i32 [[TMP0]], i32* [[TID_ADDR_LOCAL]], align 4
; CGSCC-NEXT:    [[TID:%.*]] = load i32, i32* [[TID_ADDR_LOCAL]], align 4
; CGSCC-NEXT:    br label [[OMP_PAR_REGION:%.*]]
; CGSCC:       omp.par.outlined.exit.exitStub:
; CGSCC-NEXT:    ret void
; CGSCC:       omp.par.region:
; CGSCC-NEXT:    br label [[OMP_PAR_MERGED:%.*]]
; CGSCC:       omp.par.merged:
; CGSCC-NEXT:    call void @.omp_outlined..20(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[CANCEL1_ADDR]])
; CGSCC-NEXT:    [[OMP_GLOBAL_THREAD_NUM2:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; CGSCC-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM2]])
; CGSCC-NEXT:    [[OMP_GLOBAL_THREAD_NUM:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; CGSCC-NEXT:    [[TMP1:%.*]] = call i32 @__kmpc_master(%struct.ident_t* @[[GLOB1]], i32 [[OMP_GLOBAL_THREAD_NUM]])
; CGSCC-NEXT:    [[TMP2:%.*]] = icmp ne i32 [[TMP1]], 0
; CGSCC-NEXT:    br i1 [[TMP2]], label [[OMP_REGION_BODY:%.*]], label [[OMP_REGION_END:%.*]]
; CGSCC:       omp_region.end:
; CGSCC-NEXT:    [[OMP_GLOBAL_THREAD_NUM1:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; CGSCC-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM1]])
; CGSCC-NEXT:    br label [[OMP_PAR_MERGED_SPLIT_SPLIT:%.*]]
; CGSCC:       omp.par.merged.split.split:
; CGSCC-NEXT:    call void @.omp_outlined..21(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[CANCEL2_ADDR]])
; CGSCC-NEXT:    br label [[ENTRY_SPLIT:%.*]]
; CGSCC:       entry.split:
; CGSCC-NEXT:    br label [[OMP_PAR_REGION_SPLIT:%.*]]
; CGSCC:       omp.par.region.split:
; CGSCC-NEXT:    br label [[OMP_PAR_PRE_FINALIZE:%.*]]
; CGSCC:       omp.par.pre_finalize:
; CGSCC-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT_EXITSTUB:%.*]]
; CGSCC:       omp_region.body:
; CGSCC-NEXT:    br label [[SEQ_PAR_MERGED:%.*]]
; CGSCC:       seq.par.merged:
; CGSCC-NEXT:    [[TMP3:%.*]] = load i32, i32* [[CANCEL1_ADDR]], align 4
; CGSCC-NEXT:    [[TOBOOL_NOT:%.*]] = icmp eq i32 [[TMP3]], 0
; CGSCC-NEXT:    [[LNOT_EXT:%.*]] = zext i1 [[TOBOOL_NOT]] to i32
; CGSCC-NEXT:    store i32 [[LNOT_EXT]], i32* [[CANCEL2_ADDR]], align 4
; CGSCC-NEXT:    br label [[OMP_PAR_MERGED_SPLIT:%.*]]
; CGSCC:       omp.par.merged.split:
; CGSCC-NEXT:    br label [[OMP_REGION_BODY_SPLIT:%.*]]
; CGSCC:       omp_region.body.split:
; CGSCC-NEXT:    call void @__kmpc_end_master(%struct.ident_t* @[[GLOB1]], i32 [[OMP_GLOBAL_THREAD_NUM]])
; CGSCC-NEXT:    br label [[OMP_REGION_END]]
;
;
; CGSCC-LABEL: define {{[^@]+}}@.omp_outlined..20
; CGSCC-SAME: (i32* noalias nocapture readonly [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[CANCEL1:%.*]]) {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[CANCEL1]], align 4
; CGSCC-NEXT:    [[TOBOOL_NOT:%.*]] = icmp eq i32 [[TMP0]], 0
; CGSCC-NEXT:    br i1 [[TOBOOL_NOT]], label [[IF_END:%.*]], label [[IF_THEN:%.*]]
; CGSCC:       if.then:
; CGSCC-NEXT:    [[TMP1:%.*]] = load i32, i32* [[DOTGLOBAL_TID_]], align 4
; CGSCC-NEXT:    [[TMP2:%.*]] = call i32 @__kmpc_cancel(%struct.ident_t* noundef nonnull @[[GLOB1]], i32 [[TMP1]], i32 noundef 1)
; CGSCC-NEXT:    ret void
; CGSCC:       if.end:
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@.omp_outlined..21
; CGSCC-SAME: (i32* noalias nocapture readonly [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[CANCEL2:%.*]]) {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[CANCEL2]], align 4
; CGSCC-NEXT:    [[TOBOOL_NOT:%.*]] = icmp eq i32 [[TMP0]], 0
; CGSCC-NEXT:    br i1 [[TOBOOL_NOT]], label [[IF_END:%.*]], label [[IF_THEN:%.*]]
; CGSCC:       if.then:
; CGSCC-NEXT:    [[TMP1:%.*]] = load i32, i32* [[DOTGLOBAL_TID_]], align 4
; CGSCC-NEXT:    [[TMP2:%.*]] = call i32 @__kmpc_cancel(%struct.ident_t* noundef nonnull @[[GLOB1]], i32 [[TMP1]], i32 noundef 1)
; CGSCC-NEXT:    ret void
; CGSCC:       if.end:
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@merge_3
; CGSCC-SAME: (i32 [[A:%.*]]) local_unnamed_addr {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[A_ADDR:%.*]] = alloca i32, align 4
; CGSCC-NEXT:    store i32 [[A]], i32* [[A_ADDR]], align 4
; CGSCC-NEXT:    [[OMP_GLOBAL_THREAD_NUM:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; CGSCC-NEXT:    br label [[OMP_PARALLEL:%.*]]
; CGSCC:       omp_parallel:
; CGSCC-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* @[[GLOB1]], i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @merge_3..omp_par to void (i32*, i32*, ...)*), i32* [[A_ADDR]])
; CGSCC-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT:%.*]]
; CGSCC:       omp.par.outlined.exit:
; CGSCC-NEXT:    br label [[OMP_PAR_EXIT_SPLIT:%.*]]
; CGSCC:       omp.par.exit.split:
; CGSCC-NEXT:    br label [[ENTRY_SPLIT_SPLIT:%.*]]
; CGSCC:       entry.split.split:
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@merge_3..omp_par
; CGSCC-SAME: (i32* noalias [[TID_ADDR:%.*]], i32* noalias [[ZERO_ADDR:%.*]], i32* [[A_ADDR:%.*]]) #[[ATTR0]] {
; CGSCC-NEXT:  omp.par.entry:
; CGSCC-NEXT:    [[TID_ADDR_LOCAL:%.*]] = alloca i32, align 4
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[TID_ADDR]], align 4
; CGSCC-NEXT:    store i32 [[TMP0]], i32* [[TID_ADDR_LOCAL]], align 4
; CGSCC-NEXT:    [[TID:%.*]] = load i32, i32* [[TID_ADDR_LOCAL]], align 4
; CGSCC-NEXT:    br label [[OMP_PAR_REGION:%.*]]
; CGSCC:       omp.par.outlined.exit.exitStub:
; CGSCC-NEXT:    ret void
; CGSCC:       omp.par.region:
; CGSCC-NEXT:    br label [[OMP_PAR_MERGED:%.*]]
; CGSCC:       omp.par.merged:
; CGSCC-NEXT:    call void @.omp_outlined..22(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; CGSCC-NEXT:    [[OMP_GLOBAL_THREAD_NUM:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; CGSCC-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM]])
; CGSCC-NEXT:    call void @.omp_outlined..23(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; CGSCC-NEXT:    [[OMP_GLOBAL_THREAD_NUM1:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; CGSCC-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM1]])
; CGSCC-NEXT:    call void @.omp_outlined..24(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; CGSCC-NEXT:    br label [[ENTRY_SPLIT:%.*]]
; CGSCC:       entry.split:
; CGSCC-NEXT:    br label [[OMP_PAR_REGION_SPLIT:%.*]]
; CGSCC:       omp.par.region.split:
; CGSCC-NEXT:    br label [[OMP_PAR_PRE_FINALIZE:%.*]]
; CGSCC:       omp.par.pre_finalize:
; CGSCC-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT_EXITSTUB:%.*]]
;
;
; CGSCC-LABEL: define {{[^@]+}}@.omp_outlined..22
; CGSCC-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; CGSCC-NEXT:    call void @use(i32 [[TMP0]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@.omp_outlined..23
; CGSCC-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; CGSCC-NEXT:    call void @use(i32 [[TMP0]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@.omp_outlined..24
; CGSCC-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; CGSCC-NEXT:    call void @use(i32 [[TMP0]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@merge_3_seq
; CGSCC-SAME: (i32 [[A:%.*]], i32 [[B:%.*]]) local_unnamed_addr {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[ADD1_SEQ_OUTPUT_ALLOC:%.*]] = alloca i32, align 4
; CGSCC-NEXT:    [[ADD_SEQ_OUTPUT_ALLOC:%.*]] = alloca i32, align 4
; CGSCC-NEXT:    [[A_ADDR:%.*]] = alloca i32, align 4
; CGSCC-NEXT:    store i32 [[A]], i32* [[A_ADDR]], align 4
; CGSCC-NEXT:    [[OMP_GLOBAL_THREAD_NUM7:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; CGSCC-NEXT:    br label [[OMP_PARALLEL:%.*]]
; CGSCC:       omp_parallel:
; CGSCC-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* @[[GLOB1]], i32 3, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*, i32*, i32*)* @merge_3_seq..omp_par to void (i32*, i32*, ...)*), i32* [[A_ADDR]], i32* [[ADD_SEQ_OUTPUT_ALLOC]], i32* [[ADD1_SEQ_OUTPUT_ALLOC]])
; CGSCC-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT:%.*]]
; CGSCC:       omp.par.outlined.exit:
; CGSCC-NEXT:    br label [[OMP_PAR_EXIT_SPLIT:%.*]]
; CGSCC:       omp.par.exit.split:
; CGSCC-NEXT:    br label [[ENTRY_SPLIT_SPLIT:%.*]]
; CGSCC:       entry.split.split:
; CGSCC-NEXT:    [[ADD1_SEQ_OUTPUT_LOAD:%.*]] = load i32, i32* [[ADD1_SEQ_OUTPUT_ALLOC]], align 4
; CGSCC-NEXT:    call void @use(i32 [[ADD1_SEQ_OUTPUT_LOAD]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@merge_3_seq..omp_par
; CGSCC-SAME: (i32* noalias [[TID_ADDR:%.*]], i32* noalias [[ZERO_ADDR:%.*]], i32* [[A_ADDR:%.*]], i32* [[ADD_SEQ_OUTPUT_ALLOC:%.*]], i32* [[ADD1_SEQ_OUTPUT_ALLOC:%.*]]) #[[ATTR0]] {
; CGSCC-NEXT:  omp.par.entry:
; CGSCC-NEXT:    [[TID_ADDR_LOCAL:%.*]] = alloca i32, align 4
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[TID_ADDR]], align 4
; CGSCC-NEXT:    store i32 [[TMP0]], i32* [[TID_ADDR_LOCAL]], align 4
; CGSCC-NEXT:    [[TID:%.*]] = load i32, i32* [[TID_ADDR_LOCAL]], align 4
; CGSCC-NEXT:    br label [[OMP_PAR_REGION:%.*]]
; CGSCC:       omp.par.outlined.exit.exitStub:
; CGSCC-NEXT:    ret void
; CGSCC:       omp.par.region:
; CGSCC-NEXT:    br label [[OMP_PAR_MERGED:%.*]]
; CGSCC:       omp.par.merged:
; CGSCC-NEXT:    call void @.omp_outlined..25(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; CGSCC-NEXT:    [[OMP_GLOBAL_THREAD_NUM2:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; CGSCC-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM2]])
; CGSCC-NEXT:    [[OMP_GLOBAL_THREAD_NUM:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; CGSCC-NEXT:    [[TMP1:%.*]] = call i32 @__kmpc_master(%struct.ident_t* @[[GLOB1]], i32 [[OMP_GLOBAL_THREAD_NUM]])
; CGSCC-NEXT:    [[TMP2:%.*]] = icmp ne i32 [[TMP1]], 0
; CGSCC-NEXT:    br i1 [[TMP2]], label [[OMP_REGION_BODY:%.*]], label [[OMP_REGION_END:%.*]]
; CGSCC:       omp_region.end:
; CGSCC-NEXT:    [[OMP_GLOBAL_THREAD_NUM1:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; CGSCC-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM1]])
; CGSCC-NEXT:    br label [[OMP_PAR_MERGED_SPLIT_SPLIT:%.*]]
; CGSCC:       omp.par.merged.split.split:
; CGSCC-NEXT:    call void @.omp_outlined..26(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; CGSCC-NEXT:    [[OMP_GLOBAL_THREAD_NUM4:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; CGSCC-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM4]])
; CGSCC-NEXT:    [[OMP_GLOBAL_THREAD_NUM3:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; CGSCC-NEXT:    [[TMP3:%.*]] = call i32 @__kmpc_master(%struct.ident_t* @[[GLOB1]], i32 [[OMP_GLOBAL_THREAD_NUM3]])
; CGSCC-NEXT:    [[TMP4:%.*]] = icmp ne i32 [[TMP3]], 0
; CGSCC-NEXT:    br i1 [[TMP4]], label [[OMP_REGION_BODY5:%.*]], label [[OMP_REGION_END4:%.*]]
; CGSCC:       omp_region.end4:
; CGSCC-NEXT:    [[OMP_GLOBAL_THREAD_NUM6:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; CGSCC-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM6]])
; CGSCC-NEXT:    br label [[OMP_PAR_MERGED_SPLIT_SPLIT_SPLIT_SPLIT:%.*]]
; CGSCC:       omp.par.merged.split.split.split.split:
; CGSCC-NEXT:    call void @.omp_outlined..27(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; CGSCC-NEXT:    br label [[ENTRY_SPLIT:%.*]]
; CGSCC:       entry.split:
; CGSCC-NEXT:    br label [[OMP_PAR_REGION_SPLIT:%.*]]
; CGSCC:       omp.par.region.split:
; CGSCC-NEXT:    br label [[OMP_PAR_PRE_FINALIZE:%.*]]
; CGSCC:       omp.par.pre_finalize:
; CGSCC-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT_EXITSTUB:%.*]]
; CGSCC:       omp_region.body5:
; CGSCC-NEXT:    br label [[SEQ_PAR_MERGED2:%.*]]
; CGSCC:       seq.par.merged2:
; CGSCC-NEXT:    [[TMP5:%.*]] = load i32, i32* [[A_ADDR]], align 4
; CGSCC-NEXT:    [[ADD_SEQ_OUTPUT_LOAD:%.*]] = load i32, i32* [[ADD_SEQ_OUTPUT_ALLOC]], align 4
; CGSCC-NEXT:    [[ADD1:%.*]] = add nsw i32 [[ADD_SEQ_OUTPUT_LOAD]], [[TMP5]]
; CGSCC-NEXT:    store i32 [[ADD1]], i32* [[ADD1_SEQ_OUTPUT_ALLOC]], align 4
; CGSCC-NEXT:    br label [[OMP_PAR_MERGED_SPLIT_SPLIT_SPLIT:%.*]]
; CGSCC:       omp.par.merged.split.split.split:
; CGSCC-NEXT:    br label [[OMP_REGION_BODY5_SPLIT:%.*]]
; CGSCC:       omp_region.body5.split:
; CGSCC-NEXT:    call void @__kmpc_end_master(%struct.ident_t* @[[GLOB1]], i32 [[OMP_GLOBAL_THREAD_NUM3]])
; CGSCC-NEXT:    br label [[OMP_REGION_END4]]
; CGSCC:       omp_region.body:
; CGSCC-NEXT:    br label [[SEQ_PAR_MERGED:%.*]]
; CGSCC:       seq.par.merged:
; CGSCC-NEXT:    [[TMP6:%.*]] = load i32, i32* [[A_ADDR]], align 4
; CGSCC-NEXT:    [[ADD:%.*]] = add nsw i32 [[TMP6]], 1
; CGSCC-NEXT:    store i32 [[ADD]], i32* [[ADD_SEQ_OUTPUT_ALLOC]], align 4
; CGSCC-NEXT:    br label [[OMP_PAR_MERGED_SPLIT:%.*]]
; CGSCC:       omp.par.merged.split:
; CGSCC-NEXT:    br label [[OMP_REGION_BODY_SPLIT:%.*]]
; CGSCC:       omp_region.body.split:
; CGSCC-NEXT:    call void @__kmpc_end_master(%struct.ident_t* @[[GLOB1]], i32 [[OMP_GLOBAL_THREAD_NUM]])
; CGSCC-NEXT:    br label [[OMP_REGION_END]]
;
;
; CGSCC-LABEL: define {{[^@]+}}@.omp_outlined..25
; CGSCC-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; CGSCC-NEXT:    call void @use(i32 [[TMP0]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@.omp_outlined..26
; CGSCC-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; CGSCC-NEXT:    call void @use(i32 [[TMP0]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@.omp_outlined..27
; CGSCC-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; CGSCC-NEXT:    call void @use(i32 [[TMP0]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@unmergable_3_seq_call
; CGSCC-SAME: (i32 [[A:%.*]]) local_unnamed_addr {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[A_ADDR:%.*]] = alloca i32, align 4
; CGSCC-NEXT:    store i32 [[A]], i32* [[A_ADDR]], align 4
; CGSCC-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]], i32 noundef 1, void (i32*, i32*, ...)* noundef bitcast (void (i32*, i32*, i32*)* @.omp_outlined..28 to void (i32*, i32*, ...)*), i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; CGSCC-NEXT:    call void (...) @foo()
; CGSCC-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]], i32 noundef 1, void (i32*, i32*, ...)* noundef bitcast (void (i32*, i32*, i32*)* @.omp_outlined..29 to void (i32*, i32*, ...)*), i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; CGSCC-NEXT:    call void (...) @foo()
; CGSCC-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]], i32 noundef 1, void (i32*, i32*, ...)* noundef bitcast (void (i32*, i32*, i32*)* @.omp_outlined..30 to void (i32*, i32*, ...)*), i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@.omp_outlined..28
; CGSCC-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; CGSCC-NEXT:    call void @use(i32 [[TMP0]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@.omp_outlined..29
; CGSCC-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; CGSCC-NEXT:    call void @use(i32 [[TMP0]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@.omp_outlined..30
; CGSCC-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; CGSCC-NEXT:    call void @use(i32 [[TMP0]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@unmergable_3_proc_bind
; CGSCC-SAME: (i32 [[A:%.*]]) local_unnamed_addr {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[A_ADDR:%.*]] = alloca i32, align 4
; CGSCC-NEXT:    [[TMP0:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]])
; CGSCC-NEXT:    store i32 [[A]], i32* [[A_ADDR]], align 4
; CGSCC-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]], i32 noundef 1, void (i32*, i32*, ...)* noundef bitcast (void (i32*, i32*, i32*)* @.omp_outlined..31 to void (i32*, i32*, ...)*), i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; CGSCC-NEXT:    call void @__kmpc_push_proc_bind(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]], i32 [[TMP0]], i32 noundef 3)
; CGSCC-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]], i32 noundef 1, void (i32*, i32*, ...)* noundef bitcast (void (i32*, i32*, i32*)* @.omp_outlined..32 to void (i32*, i32*, ...)*), i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; CGSCC-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]], i32 noundef 1, void (i32*, i32*, ...)* noundef bitcast (void (i32*, i32*, i32*)* @.omp_outlined..33 to void (i32*, i32*, ...)*), i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@.omp_outlined..31
; CGSCC-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; CGSCC-NEXT:    call void @use(i32 [[TMP0]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@.omp_outlined..32
; CGSCC-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; CGSCC-NEXT:    call void @use(i32 [[TMP0]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@.omp_outlined..33
; CGSCC-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; CGSCC-NEXT:    call void @use(i32 [[TMP0]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@unmergable_3_num_threads
; CGSCC-SAME: (i32 [[A:%.*]]) local_unnamed_addr {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[A_ADDR:%.*]] = alloca i32, align 4
; CGSCC-NEXT:    [[TMP0:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]])
; CGSCC-NEXT:    store i32 [[A]], i32* [[A_ADDR]], align 4
; CGSCC-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]], i32 noundef 1, void (i32*, i32*, ...)* noundef bitcast (void (i32*, i32*, i32*)* @.omp_outlined..34 to void (i32*, i32*, ...)*), i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; CGSCC-NEXT:    [[TMP1:%.*]] = load i32, i32* [[A_ADDR]], align 4
; CGSCC-NEXT:    call void @__kmpc_push_num_threads(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]], i32 [[TMP0]], i32 [[TMP1]])
; CGSCC-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]], i32 noundef 1, void (i32*, i32*, ...)* noundef bitcast (void (i32*, i32*, i32*)* @.omp_outlined..35 to void (i32*, i32*, ...)*), i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; CGSCC-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]], i32 noundef 1, void (i32*, i32*, ...)* noundef bitcast (void (i32*, i32*, i32*)* @.omp_outlined..36 to void (i32*, i32*, ...)*), i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@.omp_outlined..34
; CGSCC-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; CGSCC-NEXT:    call void @use(i32 [[TMP0]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@.omp_outlined..35
; CGSCC-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; CGSCC-NEXT:    call void @use(i32 [[TMP0]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@.omp_outlined..36
; CGSCC-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; CGSCC-NEXT:    call void @use(i32 [[TMP0]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@merge_2_unmergable_1
; CGSCC-SAME: (i32 [[A:%.*]]) local_unnamed_addr {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[A_ADDR:%.*]] = alloca i32, align 4
; CGSCC-NEXT:    store i32 [[A]], i32* [[A_ADDR]], align 4
; CGSCC-NEXT:    [[OMP_GLOBAL_THREAD_NUM:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; CGSCC-NEXT:    br label [[OMP_PARALLEL:%.*]]
; CGSCC:       omp_parallel:
; CGSCC-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* @[[GLOB1]], i32 1, void (i32*, i32*, ...)* bitcast (void (i32*, i32*, i32*)* @merge_2_unmergable_1..omp_par to void (i32*, i32*, ...)*), i32* [[A_ADDR]])
; CGSCC-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT:%.*]]
; CGSCC:       omp.par.outlined.exit:
; CGSCC-NEXT:    br label [[OMP_PAR_EXIT_SPLIT:%.*]]
; CGSCC:       omp.par.exit.split:
; CGSCC-NEXT:    br label [[ENTRY_SPLIT_SPLIT:%.*]]
; CGSCC:       entry.split.split:
; CGSCC-NEXT:    call void (...) @foo()
; CGSCC-NEXT:    call void (%struct.ident_t*, i32, void (i32*, i32*, ...)*, ...) @__kmpc_fork_call(%struct.ident_t* noundef nonnull align 8 dereferenceable(24) @[[GLOB1]], i32 noundef 1, void (i32*, i32*, ...)* noundef bitcast (void (i32*, i32*, i32*)* @.omp_outlined..39 to void (i32*, i32*, ...)*), i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@merge_2_unmergable_1..omp_par
; CGSCC-SAME: (i32* noalias [[TID_ADDR:%.*]], i32* noalias [[ZERO_ADDR:%.*]], i32* [[A_ADDR:%.*]]) #[[ATTR0]] {
; CGSCC-NEXT:  omp.par.entry:
; CGSCC-NEXT:    [[TID_ADDR_LOCAL:%.*]] = alloca i32, align 4
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[TID_ADDR]], align 4
; CGSCC-NEXT:    store i32 [[TMP0]], i32* [[TID_ADDR_LOCAL]], align 4
; CGSCC-NEXT:    [[TID:%.*]] = load i32, i32* [[TID_ADDR_LOCAL]], align 4
; CGSCC-NEXT:    br label [[OMP_PAR_REGION:%.*]]
; CGSCC:       omp.par.outlined.exit.exitStub:
; CGSCC-NEXT:    ret void
; CGSCC:       omp.par.region:
; CGSCC-NEXT:    br label [[OMP_PAR_MERGED:%.*]]
; CGSCC:       omp.par.merged:
; CGSCC-NEXT:    call void @.omp_outlined..37(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; CGSCC-NEXT:    [[OMP_GLOBAL_THREAD_NUM:%.*]] = call i32 @__kmpc_global_thread_num(%struct.ident_t* @[[GLOB1]])
; CGSCC-NEXT:    call void @__kmpc_barrier(%struct.ident_t* @[[GLOB2]], i32 [[OMP_GLOBAL_THREAD_NUM]])
; CGSCC-NEXT:    call void @.omp_outlined..38(i32* [[TID_ADDR]], i32* [[ZERO_ADDR]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A_ADDR]])
; CGSCC-NEXT:    br label [[ENTRY_SPLIT:%.*]]
; CGSCC:       entry.split:
; CGSCC-NEXT:    br label [[OMP_PAR_REGION_SPLIT:%.*]]
; CGSCC:       omp.par.region.split:
; CGSCC-NEXT:    br label [[OMP_PAR_PRE_FINALIZE:%.*]]
; CGSCC:       omp.par.pre_finalize:
; CGSCC-NEXT:    br label [[OMP_PAR_OUTLINED_EXIT_EXITSTUB:%.*]]
;
;
; CGSCC-LABEL: define {{[^@]+}}@.omp_outlined..37
; CGSCC-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; CGSCC-NEXT:    call void @use(i32 [[TMP0]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@.omp_outlined..38
; CGSCC-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; CGSCC-NEXT:    call void @use(i32 [[TMP0]])
; CGSCC-NEXT:    ret void
;
;
; CGSCC-LABEL: define {{[^@]+}}@.omp_outlined..39
; CGSCC-SAME: (i32* noalias nocapture nofree readnone [[DOTGLOBAL_TID_:%.*]], i32* noalias nocapture nofree readnone [[DOTBOUND_TID_:%.*]], i32* nocapture noundef nonnull readonly align 4 dereferenceable(4) [[A:%.*]]) {
; CGSCC-NEXT:  entry:
; CGSCC-NEXT:    [[TMP0:%.*]] = load i32, i32* [[A]], align 4
; CGSCC-NEXT:    call void @use(i32 [[TMP0]])
; CGSCC-NEXT:    ret void
;
;.
; TUNIT: attributes #[[ATTR0]] = { norecurse nounwind }
; TUNIT: attributes #[[ATTR1:[0-9]+]] = { nounwind }
; TUNIT: attributes #[[ATTR2:[0-9]+]] = { argmemonly nofree nosync nounwind willreturn }
; TUNIT: attributes #[[ATTR3:[0-9]+]] = { convergent nounwind }
;.
; CGSCC: attributes #[[ATTR0]] = { norecurse nounwind }
; CGSCC: attributes #[[ATTR1:[0-9]+]] = { nounwind }
; CGSCC: attributes #[[ATTR2:[0-9]+]] = { argmemonly nofree nosync nounwind willreturn }
; CGSCC: attributes #[[ATTR3:[0-9]+]] = { convergent nounwind }
;.
; TUNIT: [[META0:![0-9]+]] = !{i32 1, !"wchar_size", i32 4}
; TUNIT: [[META1:![0-9]+]] = !{!2}
; TUNIT: [[META2:![0-9]+]] = !{i64 2, i64 -1, i64 -1, i1 true}
;.
; CGSCC: [[META0:![0-9]+]] = !{i32 1, !"wchar_size", i32 4}
; CGSCC: [[META1:![0-9]+]] = !{!2}
; CGSCC: [[META2:![0-9]+]] = !{i64 2, i64 -1, i64 -1, i1 true}
;.
